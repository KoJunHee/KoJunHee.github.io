
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="junhee.ko">
    <title>Category: Node.js - junhee.ko</title>
    <meta name="author" content="junhee.ko">
    
    
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="always learning">
<meta property="og:type" content="blog">
<meta property="og:title" content="junhee.ko">
<meta property="og:url" content="https://kojunhee.github.io/categories/node-js/index.html">
<meta property="og:site_name" content="junhee.ko">
<meta property="og:description" content="always learning">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="junhee.ko">
<meta name="twitter:description" content="always learning">
    
    
        
    
    
        <meta property="og:image" content="https://kojunhee.github.io/assets/images/profile.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">junhee.ko</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">junhee.ko</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Always Learning</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/kojunhee" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/kojunheee" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/in/junheeko" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:junheee.ko@gmail.com" target="_blank" rel="noopener" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/09/joi/">
                            Joi
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-09T00:00:00+09:00">
	
		    Dec 09, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="Joi-가-뭡니까"><a href="#Joi-가-뭡니까" class="headerlink" title="Joi 가 뭡니까 ?"></a>Joi 가 뭡니까 ?</h5><p>Hapi.js에서 사용하는 parameter 검증 모듈입니다.</p>
<h5 id="Joi-를-사용하지-않으면"><a href="#Joi-를-사용하지-않으면" class="headerlink" title="Joi 를 사용하지 않으면 ?"></a>Joi 를 사용하지 않으면 ?</h5><p>routing 의 handler 에서 parameter 를 검증하는 로직과 서버 자원을 조회하는 로직이 섞여있습니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> users = [<span class="string">'Chris'</span>, <span class="string">'Mod'</span>, <span class="string">'Daniel'</span>, <span class="string">'JT'</span>, <span class="string">'Justin'</span>];</span><br><span class="line"></span><br><span class="line">server.route(&#123;</span><br><span class="line">    method: <span class="string">'GET'</span>,</span><br><span class="line">    path:<span class="string">'/users/&#123;id&#125;'</span>,</span><br><span class="line">    handler: <span class="function"><span class="keyword">function</span> (<span class="params">req, reply</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 파라메터 검증 </span></span><br><span class="line">      <span class="keyword">if</span> (req.params.id &amp;lt; users.length) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 검증을 통과하면 로직 수행</span></span><br><span class="line">        reply(&#123;<span class="attr">user</span>: users[req.params.id]&#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 검증 미통과시 404 에러코드 반환 </span></span><br><span class="line">        reply(<span class="string">'No user'</span>).code(<span class="number">404</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="Joi-를-사용하면"><a href="#Joi-를-사용하면" class="headerlink" title="Joi 를 사용하면 ?"></a>Joi 를 사용하면 ?</h5><p>config 속성을 통해 parameter 를 검증할 수 있습니다. config.validate 속성에 자바스크립트 객체를 설정했습니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Joi = <span class="built_in">require</span>(<span class="string">'joi'</span>);</span><br><span class="line"></span><br><span class="line">server.route(&#123;</span><br><span class="line">  method: <span class="string">'GET'</span>,</span><br><span class="line">  path:<span class="string">'/users/&#123;id&#125;'</span>,</span><br><span class="line">  handler: <span class="function"><span class="keyword">function</span> (<span class="params">req, reply</span>) </span>&#123;</span><br><span class="line">    reply(&#123;<span class="attr">user</span>: users[req.params.id]&#125;);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// config.validate 속성에 검증 로직을 추가한다. 일종의 스키마 형태 </span></span><br><span class="line">  config: &#123;</span><br><span class="line">    validate: &#123;</span><br><span class="line">      params: &#123;</span><br><span class="line">        id: Joi.number().integer().min(<span class="number">0</span>).max(users.length)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/09/joi/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/09/MongoDB Replication/">
                            MongoDB Replication
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-09T00:00:00+09:00">
	
		    Dec 09, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="복제-replication-가-무엇인가요"><a href="#복제-replication-가-무엇인가요" class="headerlink" title="복제 (replication) 가 무엇인가요?"></a>복제 (replication) 가 무엇인가요?</h5><p>여러 서버 상에서 데이터의 동일한 복사본을 유지하는 방법입니다.</p>
<h5 id="복제의-장점은-무엇인가요"><a href="#복제의-장점은-무엇인가요" class="headerlink" title="복제의 장점은 무엇인가요?"></a>복제의 장점은 무엇인가요?</h5><p>한 대 또는 그 이상의 서버에 이상이 발생하였을 때, 애플리케이션의 정상 동작 및 데이터를 안전하게 보존할 수 있습니다.</p>
<ol>
<li>백업</li>
<li>역할 분리</li>
</ol>
<h5 id="MongoDB는-복제를-어떻게-하나요"><a href="#MongoDB는-복제를-어떻게-하나요" class="headerlink" title="MongoDB는 복제를 어떻게 하나요?"></a>MongoDB는 복제를 어떻게 하나요?</h5><p>복제 셋 (replica set) 을 생성함으로써 복제를 할 수 있습니다.</p>
<h5 id="master-slave-복제는-없나요"><a href="#master-slave-복제는-없나요" class="headerlink" title="master-slave 복제는 없나요?"></a>master-slave 복제는 없나요?</h5><p>MongoDB 4.0 에서 master-slave replication 에 대한 지원을 제거했습니다.</p>
<h5 id="replica-set은-어떻게-구성되나요"><a href="#replica-set은-어떻게-구성되나요" class="headerlink" title="replica set은 어떻게 구성되나요?"></a>replica set은 어떻게 구성되나요?</h5><p>1대의 primary 서버와 여러 대의 secondary 서버로 구성합니다.</p>
<h5 id="primary-server의-특징은"><a href="#primary-server의-특징은" class="headerlink" title="primary server의 특징은?"></a>primary server의 특징은?</h5><p>클라이언트의 요청을 처리합니다. 데이터에 대한 read, write 모두 가능합니다.</p>
<h5 id="secondary-server의-특징은"><a href="#secondary-server의-특징은" class="headerlink" title="secondary server의 특징은?"></a>secondary server의 특징은?</h5><p>프라이머리 데이터의 복제 데이터를 가집니다. 프라이머리의 oplog 에서 하던 동작을 세컨더리의 데이터 셋에 비동기적으로 적용합니다. 프라이머리 서버에 장애가 발생시 세컨더리 서버는 자신들 중 새로운 프라이머리 서버를 선출할 수 있습니다. 데이터의 읽기만 가능합니다.</p>
<h5 id="데이터-복제는-어떻게-진행되나요"><a href="#데이터-복제는-어떻게-진행되나요" class="headerlink" title="데이터 복제는 어떻게 진행되나요?"></a>데이터 복제는 어떻게 진행되나요?</h5><p>세컨더리는 롱 폴링(long polling) 방식을 사용하여 프라이머리의 변경 데이터를 즉각적으로 적용합니다.</p>
<ol>
<li>클라이언트가 프라이머리 노드에 대해 쓰기를 할 때마다, 세컨더리에서 재생하기 위한 충분한 정보가 프라이머리 노드의 oplog에 자동으로 추가됩니다.</li>
<li>세컨더리 노드는 자신의 오프로그에서 가장 최근 항목의 timestamp를 검사합니다.</li>
<li>세컨더리 노드는 프라이머리 노드의 오피로그에서 최근 항목의 timestamp 이후의 모든 oplog 항목을 질의합니다.</li>
<li>질의된 oplog 항목을 자신의 oplog에 추가합니다.</li>
<li>추가된 oplog의 항목을 자신의 데이터에 적용합니다.</li>
</ol>
<h5 id="oplog가-무엇인가요"><a href="#oplog가-무엇인가요" class="headerlink" title="oplog가 무엇인가요?"></a>oplog가 무엇인가요?</h5><p>캡드(capped) 컬렉션으로, 모든 복제 노드에서 local 이라는 데이터베이스 내에 존재합니다.</p>
<h5 id="capped-collection-이란"><a href="#capped-collection-이란" class="headerlink" title="capped collection 이란?"></a>capped collection 이란?</h5><p>고정된 크기(fixed size) 를 가진 컬렉션입니다. circular buffer와 비슷하게 동작합니다. 할당된 공간을 모두 채우면, 가장 오래된 document 를 덮어씁니다.</p>
<h5 id="MongoDB가-건강상태를-확인하는-방법은-무엇인가요"><a href="#MongoDB가-건강상태를-확인하는-방법은-무엇인가요" class="headerlink" title="MongoDB가 건강상태를 확인하는 방법은 무엇인가요?"></a>MongoDB가 건강상태를 확인하는 방법은 무엇인가요?</h5><p>하트비트(heartbeat)를 합니다. 복제 셋의 각 멤버는 디폴트로 다른 멤버들을 매 2초마다 한 번씩 핑 (ping) 을 해봄으로써, 시스템의 건강 상태를 확인할 수 있습니다. 모든 모드가 건강한 상태일때만 복제 셋이 정상 동작하는 것이며 한 노드라도 반응이 없으면 조치를 취해야 합니다.</p>
<h5 id="장애가-발생했을-때-어떻게-하나요"><a href="#장애가-발생했을-때-어떻게-하나요" class="headerlink" title="장애가 발생했을 때 어떻게 하나요?"></a>장애가 발생했을 때 어떻게 하나요?</h5><p>장애 발생시 새로운 프라이머리를 선출해야 합니다. 투표를 위해서는 과반수 이상이 필요합니다. 과반수란 복제 셋의 모든 멤버의 절반보다 많은 것입니다. 예를 들어, </p>
<p>복제 셋의 멤버 수가 1 이면 복제 셋의 과반수는 1<br>복제 셋의 멤버 수가 2 이면 복제 셋의 과반수는 2<br>복제 셋의 멤버 수가 3 이면 복제 셋의 과반수는 2<br>복제 셋의 멤버 수가 4 이면 복제 셋의 과반수는 3<br>복제 셋의 멤버 수가 5 이면 복제 셋의 과반수는 3</p>
<h5 id="Arbiter란"><a href="#Arbiter란" class="headerlink" title="Arbiter란?"></a>Arbiter란?</h5><p>데이터의 복제에는 참여하지 않지만 프라이머리 선출에만 참여하는 중재자입니다. 프라이머리 1대와 세컨더리 1대로 이뤄진 복제 셋의 과반수는 2인데 프라이머리의 장애시 투표를 행사할 수 있는 서버는 1대 뿐이므로 프라이머리를 선출할 수 없습니다. 그래서 arbiter가 필요합니다.</p>
<h5 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h5><p><a href="http://kwsstudy.github.io/post/%EB%B3%B5%EC%A0%9C/" target="_blank" rel="noopener">http://kwsstudy.github.io/post/%EB%B3%B5%EC%A0%9C/</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/09/MongoDB Replication/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/09/REPL/">
                            REPL
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-09T00:00:00+09:00">
	
		    Dec 09, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="REPL-Read-Eval-Print-Loop-은"><a href="#REPL-Read-Eval-Print-Loop-은" class="headerlink" title="REPL (Read Eval Print Loop)은?"></a>REPL (Read Eval Print Loop)은?</h5><p>node.js 코드를 입력할 수 있는 대화형 인터프리터입니다. 터미널에서 node 명령어를 실행하면 실행됩니다.</p>
<h5 id="cf-event-loop-thread-란"><a href="#cf-event-loop-thread-란" class="headerlink" title="(cf) event loop thread 란 ?"></a>(cf) event loop thread 란 ?</h5><p>node.js는 io 작업시 기다리지 않습니다. 즉, block 되지 않습니다. 따라서 하나의 thread가 다른 요청을 받아서 작업을 처리할수 있습니다. 이 요청을 받아서 처리하는 Thread를 ELP(Event Loop Thread) 라고 합니다.</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/09/REPL/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/09/exports/">
                            exports
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-09T00:00:00+09:00">
	
		    Dec 09, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="전역-객체인-exports가-뭔가요"><a href="#전역-객체인-exports가-뭔가요" class="headerlink" title="전역 객체인 exports가 뭔가요?"></a>전역 객체인 exports가 뭔가요?</h5><p>만들고자 하는 모듈을 파일로 만들고, exports 객체의 속성이나 메소드를 정의해주면 모듈을 만들어 낼 수 있습니다. 그리고 만들어진 모듈을 전역 함수 require()를 이용하여 추출합니다.</p>
<h5 id="여러-속성과-메소드를-모듈로-만들고-이를-사용한-exports-예시는"><a href="#여러-속성과-메소드를-모듈로-만들고-이를-사용한-exports-예시는" class="headerlink" title="여러 속성과 메소드를 모듈로 만들고 이를 사용한 exports 예시는?"></a>여러 속성과 메소드를 모듈로 만들고 이를 사용한 exports 예시는?</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cicle.js</span></span><br><span class="line"><span class="keyword">var</span> PI = <span class="built_in">Math</span>.PI;</span><br><span class="line"> </span><br><span class="line">exports.area = <span class="function"><span class="keyword">function</span> (<span class="params">r</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> PI * r * r;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">exports.circumference = <span class="function"><span class="keyword">function</span> (<span class="params">r</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * PI * r;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// foo.js</span></span><br><span class="line"><span class="keyword">var</span> circle = <span class="built_in">require</span>(<span class="string">'./circle.js'</span>);</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">'The area of a circle of radius 4 is '</span></span><br><span class="line">    + circle.area(<span class="number">4</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// result</span></span><br><span class="line">$ node foo.js</span><br><span class="line">The area <span class="keyword">of</span> a circle <span class="keyword">of</span> radius <span class="number">4</span> is <span class="number">50.26548245743669</span></span><br></pre></td></tr></table></figure>

<h5 id="exports와-module-exports-차이는"><a href="#exports와-module-exports-차이는" class="headerlink" title="exports와 module.exports 차이는?"></a>exports와 module.exports 차이는?</h5><p>exports는 속성이나 메소드를 여러 개 정의할 수 있지만, module.exports는 하나만 정의할 수 있습니다. 파일 자체를 속성이나 메소드로 사용하는 방식입니다.</p>
<h5 id="module-exports의-예시는"><a href="#module-exports의-예시는" class="headerlink" title="module.exports의 예시는?"></a>module.exports의 예시는?</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// square.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">width</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        area: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> width * width;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bar.js</span></span><br><span class="line"><span class="keyword">var</span> square = <span class="built_in">require</span>(<span class="string">'./square.js'</span>);</span><br><span class="line"><span class="keyword">var</span> mySquare = square(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'The area of my square is '</span> + mySquare.area());</span><br><span class="line"></span><br><span class="line"><span class="comment">// result</span></span><br><span class="line">$ node bar.js</span><br><span class="line">The area <span class="keyword">of</span> my square is <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h5 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h5><p><a href="https://opentutorials.org/module/938/7190" target="_blank" rel="noopener">https://opentutorials.org/module/938/7190</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/09/exports/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/07/Promise/">
                            Promise
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-07T00:00:00+09:00">
	
		    Dec 07, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="Promise는-무엇인가요"><a href="#Promise는-무엇인가요" class="headerlink" title="Promise는 무엇인가요?"></a>Promise는 무엇인가요?</h5><p>자바스크립트 비동기 처리에 사용되는 객체입니다. </p>
<p>아래의 promise 코드는, 서버에서 제대로 응답을 받아오면 resolve() 메서드를 호출하고, 응답이 없으면 reject() 메서드를 호출하는 예제입니다. 호출된 메서드에 따라 then()이나 catch() 로 분기하여 데이터 또는 오류를 출력합니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">callbackFunc</span>) </span>&#123;</span><br><span class="line">  $.get(<span class="string">'url 주소/products/1'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    callbackFunc(response); <span class="comment">// 서버에서 받은 데이터 response를 callbackFunc() 함수에 넘겨줌</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getData(<span class="function"><span class="keyword">function</span> (<span class="params">tableData</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(tableData); <span class="comment">// $.get()의 response 값이 tableData에 전달됨</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    $.get(<span class="string">'url 주소/products/1'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (response) &#123;</span><br><span class="line">        resolve(response);</span><br><span class="line">      &#125;</span><br><span class="line">      reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Request is failed"</span>));</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Fulfilled 또는 Rejected의 결과 값 출력</span></span><br><span class="line">getData().then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data); <span class="comment">// response 값 출력</span></span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.error(err); <span class="comment">// Error 출력</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="Promise의-상태는-뭐가-있나요"><a href="#Promise의-상태는-뭐가-있나요" class="headerlink" title="Promise의 상태는 뭐가 있나요?"></a>Promise의 상태는 뭐가 있나요?</h5><p>new Promise()로 프로미스를 생성하고 종료될 때까지 세 가지 상태를 갖습니다.</p>
<ol>
<li><p>Pending(대기)</p>
<p>비동기 처리 로직이 아직 완료되지 않은 상태</p>
</li>
<li><p>Fulfilled(이행) </p>
<p>비동기 처리가 완료되어 프로미스가 결과 값을 반환해준 상태</p>
</li>
<li><p>Rejected(실패)</p>
<p>비동기 처리가 실패하거나 오류가 발생한 상태</p>
</li>
</ol>
<h5 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h5><p><a href="https://joshua1988.github.io/web-development/javascript/promise-for-beginners/" target="_blank" rel="noopener">https://joshua1988.github.io/web-development/javascript/promise-for-beginners/</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/07/Promise/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/07/Generator/">
                            Generator
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-07T00:00:00+09:00">
	
		    Dec 07, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="geneator가-뭐죠"><a href="#geneator가-뭐죠" class="headerlink" title="geneator가 뭐죠?"></a>geneator가 뭐죠?</h5><p>함수 처리 중 임의의 장소에서 처리를 중단 및 재개할 수 있는 방법입니다.</p>
<p><img src="/image/generator01.png" alt> </p>
<p>함수 선언시 function* 표시는이 함수가 제네레이터 함수로 선언된 것을 의미합니다. 실행하는 도중 중단 지점을 설정하는 방법이 yield 키워드입니다. 함수가 실행되는 도중 yield 함수를 만나면 이 제너레이터 함수를 호출한 caller 에서 다시 이벤트를 주기 전까지 대기합니다.</p>
<p><img src="/image/generator02.png" alt></p>
<p>이제 이 quipsObj 객체는 제너레이터 객체가 되었습니다.</p>
<p><img src="/image/generator03.png" alt></p>
<p>모두 실행되면 done 플래그값이 true로 바뀌는 것을 확인할 수 있습니다. 작업을 반복하는 사이에 어떤 액션이 취해져도, 상관이 없습니다. 이 제너레이터 객체는, 이번에 실행한 yield 에 멈춰서, 이벤트를 계속 기다리기 떄문입니다.</p>
<h5 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h5><p><a href="https://joshua1988.github.io/web-development/javascript/promise-for-beginners/" target="_blank" rel="noopener">https://joshua1988.github.io/web-development/javascript/promise-for-beginners/</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/07/Generator/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/07/Call back/">
                            Call back
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-07T00:00:00+09:00">
	
		    Dec 07, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="콜백-함수란"><a href="#콜백-함수란" class="headerlink" title="콜백 함수란?"></a>콜백 함수란?</h5><p>다른 함수의 인자로 이용되고, 어떤 이벤트에 의해 호출되어지는 함수입니다.</p>
<h5 id="콜백-지옥이란"><a href="#콜백-지옥이란" class="headerlink" title="콜백 지옥이란?"></a>콜백 지옥이란?</h5><p>콜백 패턴을 이용하는 함수에서, 콜백이 계속해서 중첩되는 상태를 말합니다.</p>
<h5 id="콜백-지옥을-해결하기-위한-방법은"><a href="#콜백-지옥을-해결하기-위한-방법은" class="headerlink" title="콜백 지옥을 해결하기 위한 방법은?"></a>콜백 지옥을 해결하기 위한 방법은?</h5><p>코딩패턴으로 해결하거나, Promise 나 Async, Co 모듈을 사용할 수 있습니다.</p>
<h5 id="코딩패턴으로-어떻게-해결하나요"><a href="#코딩패턴으로-어떻게-해결하나요" class="headerlink" title="코딩패턴으로 어떻게 해결하나요?"></a>코딩패턴으로 어떻게 해결하나요?</h5><p>콜백 함수를 분리해주면 됩니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parseValueDone</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">	auth(id, authDone);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">authDone</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">	display(result, displayDone);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayDone</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(text);</span><br><span class="line">&#125;</span><br><span class="line">$.get(<span class="string">'url'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">	parseValue(response, parseValueDone);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h5><p><a href="https://joshua1988.github.io/web-development/javascript/javascript-asynchronous-operation/" target="_blank" rel="noopener">https://joshua1988.github.io/web-development/javascript/javascript-asynchronous-operation/</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/07/Call back/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/11/05/node.js/">
                            Node.js
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-11-05T00:00:00+09:00">
	
		    Nov 05, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="Node-js-란"><a href="#Node-js-란" class="headerlink" title="Node.js 란"></a>Node.js 란</h5><p>Node.js® is a JavaScript runtime built on Chrome’s V8 JavaScript engine. Node.js uses an event-driven*<em>, *</em>non-blocking I/O model that makes it lightweight and efficient. Node.js’ package ecosystem, npm, is the largest ecosystem of open source libraries in the world. </p>
<p>추가 설명 : <a href="http://junheeko.com/2018/02/27/Node-Architecture/" target="_blank" rel="noopener">http://junheeko.com/2018/02/27/Node-Architecture/</a> </p>
<h5 id="특징"><a href="#특징" class="headerlink" title="특징"></a>특징</h5><ol>
<li><p>생산성이 높다.</p>
<p>Javascript를 이용해서 BE를 개발할 수 있기 때문에, FE와 BE의 기술 셋을 나눌 필요가 없습니다.</p>
</li>
<li><p>socket.io를 이용한 웹 push 구현이 가능하다.</p>
<p>push 를 지원하는 WebSocket은 브라우져 종류나 버전에 따라서 제한적으로 동작합니다. 반면, node.js의 경우 웹브라우져의 종류에 따라서 WebSocket뿐만 아니라, Long Polling등 다른 push 메커니즘을 브라우져 종류에 따라서 자동으로 선택하여 사용합니다.</p>
</li>
<li><p>non-blocking I/O model을 지원한다.</p>
<p>io 요청이 있으면 io 처리를 던져 놓고, thread나 process는 다른 일을 하고 있다가, io 처리가 끝나면 이에 대한 이벤트를 받아서, 응답을 처리하는 형태입니다.</p>
<p>추가 설명 : <a href="http://junheeko.com/2018/10/01/System-Structure,-Program-Execution/" target="_blank" rel="noopener">http://junheeko.com/2018/10/01/System-Structure,-Program-Execution/</a></p>
</li>
<li><p>Single Thread 기반이다. (내부적으로 multi thread를 사용하기도 한다.)</p>
<p>하나의 Thread만을 사용해서 여러 Client로부터 오는 Request를 처리합니다. 단, IO 작업이 있을 경우 앞에서 설명한 비동기 IO방식으로 IO 요청을 던져놓고, 다시 돌아와서 다른 작업을 하다가 IO 작업이 끝나면 이벤트를 받아서 처리하는 구조입니다.</p>
</li>
</ol>
<h5 id="Multi-Thread"><a href="#Multi-Thread" class="headerlink" title="Multi Thread"></a>Multi Thread</h5><p><img src="/image/nodejsaa01.png" alt></p>
<ol>
<li><p>작동 방식</p>
<p>Client에서부터 요청이 오면, 미리 만들어 놓은 Thread Pool에서 Thread를 꺼내서 Client의 요청을 처리하게 하고, 요청이 끝나면 Thread Pool로 돌려보낸 후, 다른 요청이 오면 다시 꺼내서 요청을 처리하게 하는 구조입니다. </p>
</li>
<li><p>동시에 처리할 수 있는 client 수</p>
<p>동시에 서비스 할 수 있는 Client의 수는 Thread Pool의 Thread 수와 같은데, 물리적으로 생성할 수 있는 Thread의 수는 한계가 있습니다. 예를 들어 Tomcat의 경우 500개 정도의 쓰레드를 생성할 수 있습니다. (물론 2,000개 정도까지도 생성할 수 있지만, 한계가 있습니다.) 즉 동시에 처리할 수 있는 Client 수에 한계가 있습니다.</p>
</li>
<li><p>io 효율</p>
<p>또한 IO 효율면에서도 보면, Client에 할당된 Thread는 IO 작업 (DB,Network,File)이 있을 경우 IO 호출을 해놓고, Thread는 CPU를 사용하지 않는 Wait상태로 빠져 버리게 됩니다.</p>
</li>
</ol>
<h5 id="Single-Thread"><a href="#Single-Thread" class="headerlink" title="Single Thread"></a>Single Thread</h5><p><img src="/image/nodejsaa02.png" alt></p>
<ol>
<li><p>작동 방식</p>
<p>하나의 Thread만을 사용해서 여러 Client로부터 오는 Request를 처리합니다. 단, IO 작업이 있을 경우 앞에서 설명한 비동기 IO방식으로 IO 요청을 던져놓고, 다시 돌아와서 다른 작업을 하다가 IO 작업이 끝나면 이벤트를 받아서 처리하는 구조입니다.</p>
</li>
<li><p>io 효율</p>
<p>Client A가 요청을 받으면, CPU 작업을 먼저하다가 IO작업을 던져놓고, Client B에서 요청이 오면, CPU작업을 하다가 IO작업을 던져놓고, Client A의 IO작업이 끝나면 이를 받아서 Client A에 리턴하는 식의 구조입니다. IO작업시 기다리지 않기 때문에(Block 되지 않기 때문에), 하나의 Thread가 다른 요청을 받아서 작업을 처리할 수 있는 구조가 됩니다.  이 요청을 받아서 처리하는 Thread를 ELP(Event Loop Thread) 라고 합니다.</p>
</li>
<li><p>thread pool</p>
<p><img src="/image/nodejsaa03.png" alt></p>
<p>file open 등과 같은 일부 IO는 OS에 따라서 nonblocking function을 지원하지 않는 경우가 있기 때문에, 이러한 blocking io function을 호출할 경우에는 blocking이 발생합니다. 이 경우 single thread로 구현된 event loop thread가 정지됩니다. 이러한 문제를 해결 하기 위해서 내부적으로 thread pool을 별도로 운영하면서 blocking function call의 경우에는 thread pool의 thread를 이용하여 IO 처리를 하여 event loop thread가 io에 의해서 block되지 않게 합니다.</p>
</li>
</ol>
<h5 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h5><p><img src="/image/nodejsaa04.png" alt></p>
<p>하나의 Thread로 여러 클라이언트의 요청, 즉 여러 개의 socket connection을 처리하는 방법은 Multiplexing이다. 여러 개의 socket이 동시에 연결되어 있는 상태에서 하나의 Thread는 어느 socket 으로부터 메시지가 들어오는지 보고 있는다. socket에서 메시지가 들어오면, 그 메시지를 꺼내 받아서 처리를 하는 방식이다. epoll, kqueue, dev/poll ,select등을 이용한다.</p>
<h5 id="Node-js-사용-용도"><a href="#Node-js-사용-용도" class="headerlink" title="Node.js 사용 용도"></a>Node.js 사용 용도</h5><ol>
<li>prototyping</li>
<li>file upload/download와 같은 network streaming 서비스에 유리합니다. async io를 사용하기 때문입니다.</li>
<li>채팅 서비스 같은 real time web application에 유리합니다. socket.io를 사용하기 때문입니다.</li>
<li>간단한 로직을 가지면서 대용량 그리고 빠른 응답 시간을 요구로 하는 애플리케이션</li>
<li>상대적으로 CPU Intensive한 작업이 없고, 많은 Connection을 동시에 처리해야 하는 시나리오 대해서는 아무래도  node.js의 성능이 압도적으로 높습니다.</li>
</ol>
<h5 id="Node-js-비사용-용도"><a href="#Node-js-비사용-용도" class="headerlink" title="Node.js 비사용 용도"></a>Node.js 비사용 용도</h5><ol>
<li><p>CPU 작업이 많은 애플리케이션</p>
<p>Node.js는 single thread 구조입니다. 그래서 하나의  request를 처리할 때 CPU를 많이 사용하면 다른 요청 처리가 지연되게 되고, 전체적인 응답시간 저하로 연결됩니다.</p>
</li>
<li><p>trouble shooting이 중요한 애플리케이션</p>
<p>Javascript 언어의 특성상 에러를 가지고 있는 코드 위치에 진입할 때 그때 에러가 나고, 에러가 나면 대부분 서버가 죽어버립니다. 따라서, 운영 관점에서 trouble shooting 등이 어려울 수 있습니다. single event loop의 특성상, 하나의 코드가 잘못되서 시스템이 느려지게 되면 전체 request 처리에 문제가 있을 수 있습니다. 코드가 잘못되면  전체 시스템이 hang up (멈춤) 됩니다.</p>
</li>
</ol>
<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><p><a href="http://bcho.tistory.com/881" target="_blank" rel="noopener">http://bcho.tistory.com/881</a></p>
<p><a href="https://nodejs.org" target="_blank" rel="noopener">https://nodejs.org</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/11/05/node.js/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/02/27/Node Architecture/">
                            Node Architecture
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-02-27T00:00:00+09:00">
	
		    Feb 27, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><a href="https://www.youtube.com/watch?v=TlB_eWDSMt4" target="_blank" rel="noopener">https://www.youtube.com/watch?v=TlB_eWDSMt4</a></p>
<ul>
<li>Node.js is a runtime environment for executing JavaScript code</li>
<li>Before node, we use JavaScript only to build applications that run inside of a browser.</li>
<li>So, every browser has what we call JavaScript engine that takes our JavaScript code and converts it to code that a computer can understand</li>
<li>For example, Microsoft eight uses ‘Chakra’, Firefox uses ‘SpiderMonkey’,  and Chrome uses ‘v8’</li>
<li>Because of these varieties of engines that sometimes JavaScript code can behave differently in one browser or another</li>
<li>Now a browser provides a runtime environment for JavaScript code</li>
<li>For example, in browser we have the window or the document object . <ul>
<li>(ex) documnet.getElementById(‘’);</li>
</ul>
</li>
<li>Thses objects allow us to work with environment in which our code is running </li>
<li>Up to 2009, the only way to excute JavaScript code was inside of a browser</li>
<li>In 2009,  Brian Dahl creator of node came up with a brilliant idea</li>
<li>He thought it would be great to execute JavaScript outside of a browser,</li>
<li>so he took Google’s v8 engine which is the fastest JavaScript engine out there and embeded it inside a C++ program and called that program node.</li>
<li>So, similar to a browser, node is a runtime environment for JavaScript code. </li>
<li>It contains a JavaScript engine that execute our JavaScript code,</li>
<li>but it also has certain objects that provide an environment for our JavaScript code </li>
<li>But these objects are different from the environment objects we have in browser</li>
<li>For example, we don’t have the document object.</li>
<li>Instead , we have other objects that give us more interesting capabilities</li>
<li>For example, we can work with the file system, listen for requests and a given port and so on.<ul>
<li>fs.readFile()</li>
<li>http.createServer()</li>
</ul>
</li>
<li>We can’t do stuff like that inside of a browser</li>
<li>In essence, node is a program that includese the v8 JavaScript engine plus some additional modules that give us capabilities not avaliable inside browsers</li>
<li>We can work with the file system or the network and so on</li>
<li>Both Chrome and node share the same JavaScript engine, but they provide different runtime environments for JavaScript</li>
<li>Node is NOT a programming language</li>
<li>Node is NOT a framework</li>
<li>It’s a runtime environment for executing JavaScript code</li>
</ul>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/02/27/Node Architecture/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/02/27/find in studio3T/">
                            find in studio3T
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-02-27T00:00:00+09:00">
	
		    Feb 27, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/node-js/">Node.js</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <ul>
<li><p>문제</p>
<ul>
<li>mongo studio3T 에서 {_id: ‘123’} 로 검색하면 id가 ‘123’ 인 row가 find 되지 않음</li>
</ul>
</li>
<li><p>해결</p>
<ul>
<li>{id:ObjectId(‘123’)}</li>
</ul>
<p>​</p>
</li>
</ul>
<p>​    </p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/02/27/find in studio3T/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/categories/node-js/page/2/">
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 1 of 3</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 junhee.ko. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">junhee.ko</h4>
        
            <div id="about-card-bio"><p>Always Learning</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Engineer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Incheon
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
