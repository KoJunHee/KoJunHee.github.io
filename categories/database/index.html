
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="junhee.ko">
    <title>Category: Database - junhee.ko</title>
    <meta name="author" content="junhee.ko">
    
    
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="always learning">
<meta property="og:type" content="blog">
<meta property="og:title" content="junhee.ko">
<meta property="og:url" content="https://kojunhee.github.io/categories/database/index.html">
<meta property="og:site_name" content="junhee.ko">
<meta property="og:description" content="always learning">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="junhee.ko">
<meta name="twitter:description" content="always learning">
    
    
        
    
    
        <meta property="og:image" content="https://kojunhee.github.io/assets/images/profile.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">junhee.ko</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">junhee.ko</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Always Learning</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/kojunhee" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/kojunheee" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/in/junheeko" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:junheee.ko@gmail.com" target="_blank" rel="noopener" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/05/Connection Pool/">
                            Connection Pool
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-05T00:00:00+09:00">
	
		    Dec 05, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/database/">Database</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="Connection-Pool이란"><a href="#Connection-Pool이란" class="headerlink" title="Connection Pool이란?"></a>Connection Pool이란?</h5><p>데이터베이스와 연결된 커넥션을 미리 만들어서 풀 (pool) 속에 저장해 두고 있다가 필요할 때 커넥션을 풀에서 쓰고 다시 풀에 반환하는 기법을 말합니다.</p>
<h5 id="장점은"><a href="#장점은" class="headerlink" title="장점은?"></a>장점은?</h5><ol>
<li>풀 속에 미리 커넥션이 생성되어 있기 때문에, 커넥션을 생성하는 데 드는 연결 시간이 소비되지 않습니다.</li>
<li>커넥션을 계속해서 재사용하기 때문에 생성되는 커넥션 수가 많지 않습니다.</li>
</ol>
<h5 id="단점은"><a href="#단점은" class="headerlink" title="단점은?"></a>단점은?</h5><p>동시접속자 수가 많아져 남아있는 커넥션이 없을 경우, 해당 클라이언트는 대기 상태로 전환이 되고 커넥션이 반환되면 대기하고 있는 순서대로 커넥션이 제공됩니다.</p>
<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><p><a href="http://brownbears.tistory.com/289?category=191941" target="_blank" rel="noopener">http://brownbears.tistory.com/289?category=191941</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/05/Connection Pool/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/05/High Availability/">
                            High Availability
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-05T00:00:00+09:00">
	
		    Dec 05, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/database/">Database</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="고가용성-HA-High-Availability-이-뭔가요"><a href="#고가용성-HA-High-Availability-이-뭔가요" class="headerlink" title="고가용성(HA, High Availability)이 뭔가요?"></a>고가용성(HA, High Availability)이 뭔가요?</h5><p>서버가 오랜 시간 동안 지속적으로 정상 운영이 가능한 성질을 말합니다.</p>
<h5 id="HA를-이루기-위한-방법이-뭐가-있나요"><a href="#HA를-이루기-위한-방법이-뭐가-있나요" class="headerlink" title="HA를 이루기 위한 방법이 뭐가 있나요?"></a>HA를 이루기 위한 방법이 뭐가 있나요?</h5><p>클러스터링, 이중화, RAID가 있습니다.</p>
<h5 id="클러스터링이-뭔가요"><a href="#클러스터링이-뭔가요" class="headerlink" title="클러스터링이 뭔가요?"></a>클러스터링이 뭔가요?</h5><p>마치 하나의 컴퓨터처럼 사용하기 위해, 여러 컴퓨터를 연결한 병렬 시스템입니다. 클러스터링 환경에서는 특정 장비에 문제가 생기거나 특정 장비에서 실행중인 애플리케이션에서 문제가 발생더라도 전체 서비스에 영향을 미치지 않도록 제어가 가능합니다. </p>
<h5 id="클러스터링의-장점은"><a href="#클러스터링의-장점은" class="headerlink" title="클러스터링의 장점은?"></a>클러스터링의 장점은?</h5><ol>
<li>저렴한 비용으로 다수의 서버를 증설 할 수 있습니다.</li>
<li>1대의 서버 장애가 발생하여도 서비스 중단없이 다른 서버로 적절히 자동 분배되어 서비스를 계속 운용할 수 있습니다.</li>
<li>서버를 확장할 때도 서비스 중단 없이 증설이 가능합니다.</li>
</ol>
<h5 id="이중화-replication-는-무엇인가요"><a href="#이중화-replication-는-무엇인가요" class="headerlink" title="이중화(replication) 는 무엇인가요?"></a>이중화(replication) 는 무엇인가요?</h5><p>replication은 물리적으로 다른 서버의 저장 공간에 동일한 데이터를 복사하는 기술입니다.</p>
<h5 id="master-와-slave가-뭔가요"><a href="#master-와-slave가-뭔가요" class="headerlink" title="master 와 slave가 뭔가요?"></a>master 와 slave가 뭔가요?</h5><p>원본 데이터가 위치하는 서버를 master 라고 하고 그 원본을 복제한 서버를 slave 라고 합니다. master에 쓰기 작업을 하고, 그 서버의 데이터를 복제해서 여러 대의 slave 서버를 만든 후에 slave 에서는 읽기 작업만을 수행합니다.</p>
<h5 id="replication은-어떤-용도로-사용하나요"><a href="#replication은-어떤-용도로-사용하나요" class="headerlink" title="replication은 어떤 용도로 사용하나요?"></a>replication은 어떤 용도로 사용하나요?</h5><ol>
<li><p>백업용으로 사용할 수 있습니다.</p>
<p>master의 database와, 그로부터 복사된 slave의 database는 identical하기 때문에, master에 문제가 생겼을 경우에, slave가 하던 일을 떠맡도록 하면 다시 시스템을 정상적으로 가동하는 데 드는 시간을 절약할 수 있습니다.</p>
</li>
<li><p>역할을 분산할 수 있습니다.</p>
<p>data를 직접 변경하는 처리는 master가 하도록 하고, 변경하지 않는 SELECT 같은 처리는 slave가 맡는 형식입니다.</p>
</li>
</ol>
<h5 id="mysql-에서-replication은-어떤-방식으로-하나요"><a href="#mysql-에서-replication은-어떤-방식으로-하나요" class="headerlink" title="mysql 에서 replication은 어떤 방식으로 하나요?"></a>mysql 에서 replication은 어떤 방식으로 하나요?</h5><ol>
<li>Master에서 데이터 변경이 일어나면 자신의 데이터베이스에 반영합니다.</li>
<li>Master에서 변경된 이력을 Binary Log에 기록 후 관련 이벤트를 날립니다.</li>
<li>Slave IO_THREAD에서 Master 이벤트를 감지하고, Master Binary Log를 자신의 Relay Log라는 곳에 기록을 합니다.</li>
<li>Slave SQL_THREAD는 Relay Log를 읽고 자신의 데이터베이스에 기록을 합니다.</li>
</ol>
<h5 id="RAID가-무엇인가요"><a href="#RAID가-무엇인가요" class="headerlink" title="RAID가 무엇인가요?"></a>RAID가 무엇인가요?</h5><p>한 개의 디스크에 데이터를 저장하는 방식이 아닌, 데이터 저장의 성능 및 안정성 확보를 위해 복수의 디스크를 구성하는 방식입니다.</p>
<h5 id="샤딩이-무엇인가요"><a href="#샤딩이-무엇인가요" class="headerlink" title="샤딩이 무엇인가요?"></a>샤딩이 무엇인가요?</h5><p>Horizontal Partitioning입니다. 같은 테이블 스키마를 가진 데이터를 다수의 데이터베이스에 분산하여 저장하는 방법입니다.</p>
<h5 id="샤딩이-항상-필요하나요"><a href="#샤딩이-항상-필요하나요" class="headerlink" title="샤딩이 항상 필요하나요?"></a>샤딩이 항상 필요하나요?</h5><p>가능하면 Sharding을 피하거나 지연시킬 수 있는 방법을 찾는 것이 우선되어야 합니다. </p>
<h5 id="샤딩-이외의-방법은-뭐가-있을까요"><a href="#샤딩-이외의-방법은-뭐가-있을까요" class="headerlink" title="샤딩 이외의 방법은 뭐가 있을까요?"></a>샤딩 이외의 방법은 뭐가 있을까요?</h5><ol>
<li><p>Scale in 방식</p>
<p>Hardware Spec이 더 좋은 컴퓨터를 사용할 수 있습니다. </p>
</li>
<li><p>Cache, Repliction</p>
<p>read 부하가 크다면 </p>
</li>
<li><p>Vertically Partition</p>
<p>Table의 일부 컬럼만 자주 사용한다면</p>
</li>
</ol>
<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><p><a href="http://snthewhitehacker.tistory.com/4" target="_blank" rel="noopener">http://snthewhitehacker.tistory.com/4</a></p>
<p><a href="http://gywn.net/2011/12/mysql-replication-1/" target="_blank" rel="noopener">http://gywn.net/2011/12/mysql-replication-1/</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/05/High Availability/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/05/Redis/">
                            Redis
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-05T00:00:00+09:00">
	
		    Dec 05, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/database/">Database</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="Redis가-뭐죠"><a href="#Redis가-뭐죠" class="headerlink" title="Redis가 뭐죠 ?"></a>Redis가 뭐죠 ?</h5><p>REmote DIctionary System.</p>
<p>메모리 기반의 Key/Value Store 입니다. Cassandra나 HBase와 같이 NoSQL DBMS로 분류되기도 하고, memcached와 같은 In memory 솔루션으로 분리되기도 합니다. </p>
<h5 id="Redis는-어떤-용도로-사용되나요"><a href="#Redis는-어떤-용도로-사용되나요" class="headerlink" title="Redis는 어떤 용도로 사용되나요 ?"></a>Redis는 어떤 용도로 사용되나요 ?</h5><p>Message Queue, Shared memory, Remote Dictionary 용도로도 사용될 수 있습니다.</p>
<h5 id="memcached와-Redis의-차이는-뭘까요"><a href="#memcached와-Redis의-차이는-뭘까요" class="headerlink" title="memcached와 Redis의 차이는 뭘까요 ?"></a>memcached와 Redis의 차이는 뭘까요 ?</h5><ol>
<li>redis는 Key/Value Store이기는 하지만, 저장되는 Value가 단순한 Object가 아니라 다양한 데이터 구조체를 지원합니다.</li>
<li>저장된 데이타에 대한 연산이나 추가 작업이 가능합니다. (합집합, 교집합 ,RANGE QUERY 등)</li>
</ol>
<h5 id="Redis-데이터-구조체의-특징은-무엇인가요"><a href="#Redis-데이터-구조체의-특징은-무엇인가요" class="headerlink" title="Redis 데이터 구조체의 특징은 무엇인가요 ?"></a>Redis 데이터 구조체의 특징은 무엇인가요 ?</h5><p>일반적인 string 뿐만 아니라, set, list, hash와 같은 집합형 데이타 구조를 지원합니다. set 는 일종의 집합, sorted set 은 오름차순으로 정렬된 집합, hash 는 키 기반의 테이블, list 는 일종의 링크드 리스트 와 같은 특성을 지니고 있습니다.</p>
<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><p><a href="http://bcho.tistory.com/1098?category=513811" target="_blank" rel="noopener">http://bcho.tistory.com/1098?category=513811</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/05/Redis/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/12/05/isolation level/">
                            isolation level
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-12-05T00:00:00+09:00">
	
		    Dec 05, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/database/">Database</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="Isolation-level이-무엇인가요"><a href="#Isolation-level이-무엇인가요" class="headerlink" title="Isolation level이 무엇인가요 ?"></a>Isolation level이 무엇인가요 ?</h5><p>트랜잭션에서 일관성이 없는 데이터를 허용하는 수준입니다.</p>
<h5 id="고립화-수준을-높이는-것이-좋을-까요-낮추는-것이-좋을까요"><a href="#고립화-수준을-높이는-것이-좋을-까요-낮추는-것이-좋을까요" class="headerlink" title="고립화 수준을 높이는 것이 좋을 까요, 낮추는 것이 좋을까요 ?"></a>고립화 수준을 높이는 것이 좋을 까요, 낮추는 것이 좋을까요 ?</h5><p>트랜잭션 고립화 수준을 높이면 일관성은 향상 되지만, 더 넓은 범위의 Lock을 더 오랫동안 유지하는 방식으로 동시성을 저하시킵니다.</p>
<h5 id="낮은-단계의-고립화-수준에서-발생하는-에러는-뭐가-있나요"><a href="#낮은-단계의-고립화-수준에서-발생하는-에러는-뭐가-있나요" class="headerlink" title="낮은 단계의 고립화 수준에서 발생하는 에러는 뭐가 있나요?"></a>낮은 단계의 고립화 수준에서 발생하는 에러는 뭐가 있나요?</h5><p>Dirty Read, Non Repeatable Read, Phantom Read가 있습니다.</p>
<ol>
<li><p>Dirty Read</p>
<p>데이터 캐시에는 변경이 되었지만, 아직 디스크에는 변경되지 않은 데이터(페이지)를 읽는 행위 입니다.</p>
</li>
<li><p>Non Repeatable Read</p>
<p>트랜잭션 내에서 한 번 읽은 데이터가 트랜잭션이 끝나기 전에 변경되었다면, 다시 읽었을 때 새로운 값이 읽히는 것입니다.</p>
</li>
<li><p>Phantom Read</p>
<p>트랜잭션 중에 없던 행이 추가되어 새로 입력된 데이터를 읽는 것입니다.</p>
</li>
</ol>
<h5 id="isolation-level-에는-뭐가-있나요"><a href="#isolation-level-에는-뭐가-있나요" class="headerlink" title="isolation level 에는 뭐가 있나요?"></a>isolation level 에는 뭐가 있나요?</h5><p>read uncommitted, read committed, repeatable read, serializable 이 있습니다.</p>
<ol>
<li><p>read uncommitted</p>
<p>고립화 수준에서 가장 낮은 수준입니다. 아직 커밋되지 않은 데이터를 다른 트랜잭션이 읽는 것을 허용합니다.세션 1)에서 price * 10을 처리하고 있으므로 price에 10 이 곱해진 결과가 세션 2)에서 보이게 됩니다. 만일 세션 1)에서 ROLLBACK 시켜버리면 세션 2)는 잘못된 결과를 보게 됩니다. 이러한 것을 Dirty Page를 읽었다고 합니다 (Dirty Read). </p>
<p><img src="/image/isolationLevel01.png" alt></p>
</li>
<li><p>read committed</p>
<p>DIrty Read를 방지합니다. COMMIT 하지 않은 트랜잭션이 이용한 자원에 대해 트랜잭션이 완료되어야 (= 잠금이 해제되어야) 데이터를 읽을 수 있습니다.</p>
</li>
<li><p>repeatable read</p>
<p>트랜잭션이 완료될 때까지 공유 잠금을 유지하여 여러번 같은 데이터를 읽어도 항상 같은 값이 얻어지도록 합니다.</p>
<p>주의해야할 사항은 REPEATABLE READ가 설정되면 원래 읽었던 데이터에 대하여서는 항상 같은 값이 유지 되지만 새로 추가되는 데이터를 막을 수는 없습니다. </p>
<p>예를 들어 특정 조건에 만족한 레코드가 5개였으면 이 5개의 레코드는 언제든 같은 값을 보이게 되지만 다른 트랜잭션에 의해 이 조건을 만족하는 새로운 레코드가 추가되면 원래 없었던 새로운 레코드가 보이게 됩니다. 이러한 것을 Pantom Read라고 합니다.</p>
<p>세션 1) 에서 Test 테이블을 만들어서 3개의 레코드를 추가하였습니다. 트랜잭션에서 검색의 범위가 1부터 4이므로 INSERT한 3개의 레코드가 위 빨간색 박스안의 내용처럼 표시됩니다.</p>
<p>REPEATABLE READ 가 설정되었으므로 이 3개의 레코드는 트랜잭션이 끝날 때 까지 아무도 변경 할 수 없습니다. 예를 들어 세션 2)에서 col1 컬럼이 1인 레코드의 col2를 ‘AAAAA’ 에서 ‘BBBBB’로 바꾸려고 하면 잠금으로 인하여 처리되지 못합니다.</p>
<p>하지만 세션 2)에서는 검색 범위안에는 들어가지만 아직 존재하지 않는 레코드를 추가할 때 아무 문제 없이 처리가 됩니다. 세션 2)의 수행 결과를 보면 (1개 행 적용됨) 이 표시된 것을 볼 수 있습니다.</p>
<p>이 상태에서 세션 1)에서 똑같은 검색을 수행하면 새로운 레코드가 하나 추가되어 이전의 결과와 다르게 됩니다. 이것이 Pantom Read 입니다.</p>
<p><img src="/image/isolationLevel02.png" alt></p>
</li>
<li><p>serializble</p>
<p>가장 높은 고립화 수준으로 REPEATABLE READ 고립화 수준이 막지 못하는 Pantom Read까지 방지해줍니다. 완벽한 데이터베이스의 일관성은 유지해 주지만 잠금을 유지하기 위하여 오버헤드는 증가하게 됩니다.바로 위의 그림에서, 만일 세션 1) 에서 SERIALIZABLE 고립화 수준이 설정되었다면 세션 2)에서의 INSERT 는 불가능하게 됩니다.</p>
</li>
</ol>
<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><p><a href="http://goforaurora.tistory.com/entry/SQL-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EA%B3%A0%EB%A6%BD%ED%99%94-%EC%88%98%EC%A4%80Isolation-Level" target="_blank" rel="noopener">http://goforaurora.tistory.com/entry/SQL-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EA%B3%A0%EB%A6%BD%ED%99%94-%EC%88%98%EC%A4%80Isolation-Level</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/12/05/isolation level/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/11/12/Transaction/">
                            Transaction
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-11-12T00:00:00+09:00">
	
		    Nov 12, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/database/">Database</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="트렌젝션이란"><a href="#트렌젝션이란" class="headerlink" title="트렌젝션이란 ?"></a>트렌젝션이란 ?</h5><p>하나의 논리적인 작업 단위를 구성하는 연산들의 집합입니다.</p>
<h5 id="트렌젝션의-상태는-뭐가-있나요"><a href="#트렌젝션의-상태는-뭐가-있나요" class="headerlink" title="트렌젝션의 상태는 뭐가 있나요 ?"></a>트렌젝션의 상태는 뭐가 있나요 ?</h5><ol>
<li><p>Active<br>트랜잭션이 실행중이며 동작중인 상태를 말합니다.</p>
</li>
<li><p>Failed<br>트랜잭션이 더이상 정상적으로 진행 할 수 없는 상태를 말합니다.</p>
</li>
<li><p>Partial Committed<br>트랜잭션의 Commit 명령이 도착한 상태입니다. commit만 남은 상태입니다.</p>
</li>
<li><p>Committed<br>트랜잭션 완료 상태입니다.</p>
</li>
<li><p>Aborted<br>트랜잭션이 취소되고, 트랜잭션 실행 이전 데이터로 돌아간 상태입니다.</p>
</li>
</ol>
<h5 id="ACID란"><a href="#ACID란" class="headerlink" title="ACID란 ?"></a>ACID란 ?</h5><p>트렌젝션의 네 가지 주요 특징입니다.</p>
<ol>
<li><p>Atomicity</p>
<p>all or nothing 입니다. 트랜잭션의 모든 연산들이 정상적으로 수행 완료되거나, 아니면 전혀 어떠한 연산도 수행되지 않은 상태를 보장해야 합니다.</p>
</li>
<li><p>Consistency</p>
<p>트랜잭션이 완료된 다음의 상태에서도, 트랜잭션이 일어나기 전의 상황과 동일하게 데이터의 일관성을 보장해야합니다. 트랜잭션 수행이 보존해야 할 일관성은 기본 키, 외래 키 제약과 같은 명시적인 무결성 제약 조건들뿐만 아니라, 자금 이체 예에서 두 계좌 잔고의 합은 이체 전후가 같아야 한다는 사항과 같은 비명시적인 일관성 조건들도 있습니다.</p>
</li>
<li><p>Isolation</p>
<p>여러 트랜잭션이 동시에 수행되더라도, 각각의 트랜잭션은 다른 트랜잭션의 수행에 영향을 받지 않고 독립적으로 수행되어야 합니다.</p>
</li>
<li><p>Durability</p>
<p>트랜잭션이 성공적으로 완료되어 커밋되고 나면, 해당 트랜잭션에 의한 모든 변경은 향후에 어떤 소프트웨어나 하드웨어 장애가 발생되더라도 보존되어야 합니다.</p>
</li>
</ol>
<h5 id="Commit-Rollback-이란"><a href="#Commit-Rollback-이란" class="headerlink" title="Commit, Rollback 이란 ?"></a>Commit, Rollback 이란 ?</h5><ol>
<li><p>Commit</p>
<p>모든 작업을 정상적으로 처리하겠다고 확정하는 명령어이입니다. 트랜젝션의 처리 과정을 데이터베이스에 반영하기 위해서, 변경된 내용을 모두 영구 저장합니다.</p>
</li>
<li><p>Rollback</p>
<p>작업 중 문제가 발생했을 때, 트랜젝션의 처리 과정에서 발생한 변경 사항을 취소하고, 트랜젝션 과정을 종료시킨는 명령어입니다. 트랜젝션으로 인한 하나의 묶음 처리가 시작되기 이전의 상태로 되돌립니다.</p>
</li>
</ol>
<h5 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h5><p><a href="https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/Database#transaction" target="_blank" rel="noopener">https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/Database#transaction</a></p>
<p><a href="https://wikidocs.net/4096" target="_blank" rel="noopener">https://wikidocs.net/4096</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/11/12/Transaction/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/11/11/MongoDB/">
                            MongoDB
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-11-11T00:00:00+09:00">
	
		    Nov 11, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/database/">Database</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h5 id="MongoDB란"><a href="#MongoDB란" class="headerlink" title="MongoDB란?"></a>MongoDB란?</h5><p>Document Database입니다.</p>
<h5 id="MongoDB의-주요-특징은"><a href="#MongoDB의-주요-특징은" class="headerlink" title="MongoDB의 주요 특징은?"></a>MongoDB의 주요 특징은?</h5><ol>
<li><p>Collection - document - key/value </p>
</li>
<li><p>Schemaless 합니다.</p>
<p>Document는 각기 다른 다양한 필드를 가질 수 있습니다.</p>
</li>
<li><p>문서 지향적입니다.</p>
<p>하나의 row에 하나의 Document를 저장합니다.</p>
</li>
<li><p>RDBMS와는 달리 데이터 간의 관계를 정의하지 않습니다.</p>
<p>관계형 데이터베이스인 RDBMS는 데이터의 관계를 Foreign Key 등으로 정의하고, 이를 이용해서 Join 등 관계형 연산을 합니다.</p>
<p>NoSQL은 데이터 간의 관계를 정의하지 않습니다. </p>
</li>
<li><p>RDBMS인 MySQL에서 지원하는 대부분의 인덱스를 지원합니다.</p>
<p>index는 메모리에 저장되기 때문에 메모리 크기에 영향을 많이 받습니다.</p>
</li>
<li><p>auto-sharding을 지원합니다.</p>
<p>처음부터 자동으로 데이터를 분산하여 저장하며, 하나의 컬렉션처럼 사용할 수 있게 해줍니다.</p>
</li>
<li><p>레코드는 BSON (binary JSON) 형식으로 저장됩니다.</p>
<p>JSON document를 binary-encoded format 으로 바꿔 저장합니다.</p>
</li>
</ol>
<h5 id="장점은-무엇인가요"><a href="#장점은-무엇인가요" class="headerlink" title="장점은 무엇인가요?"></a>장점은 무엇인가요?</h5><ol>
<li>Schema-less라서 어떤 형태의 데이터라도 저장할 수 있습니다.</li>
<li>Read &amp; Write 성능이 뛰어납니다.<br>Write Back 방식을 사용합니다. Write시에, Memory에 먼저 Write후에, 1분 단위로 Flushing합니다. 메모리에만 쓰면 되니까는 Write가 무지 빠릅니다. 단 Flushing전에 Fail이 되면 데이타 유실에 의해서 Consistency 가 깨지는 문제가 발생합니다. Read시에, 파일의 Index를 메모리에 로딩해놓고 찾습니다. (memory mapped file)</li>
<li>JSON형태로 저장이 가능해서 직관적이고 개발이 편리합니다.</li>
</ol>
<h5 id="단점이-뭔가요"><a href="#단점이-뭔가요" class="headerlink" title="단점이 뭔가요?"></a>단점이 뭔가요?</h5><ol>
<li>정합성이 떨어지므로 트랜잭션이 필요한 경우에는 부적합합니다. (ex. 금융, 결제, 회원정보 등)</li>
<li>JOIN이 없습니다. 대신 Embedded document를 활용 가능합니다.</li>
<li>메모리 관리를 OS에게 위임합니다. 메모리 크기가 성능을 좌우합니다.</li>
<li>SQL을 완전히 이전할 수는 없습니다.</li>
<li>B트리 인덱스를 사용하여 인덱스를 생성하는데, B트리는 크기가 커질수록 새로운 데이터를 입력하거나 삭제할 때 성능이 저하됩니다. 이런 B트리의 특성 때문에 데이터를 넣어두면 변하지않고 정보를 조회하는 데에 적합합니다.</li>
</ol>
<h5 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h5><p><a href="https://nicewoong.github.io/development/2018/02/10/mongodb-feature/" target="_blank" rel="noopener">https://nicewoong.github.io/development/2018/02/10/mongodb-feature/</a></p>
<p><a href="http://bcho.tistory.com/624?category=431296" target="_blank" rel="noopener">http://bcho.tistory.com/624?category=431296</a></p>
<p><a href="http://sjh836.tistory.com/98" target="_blank" rel="noopener">http://sjh836.tistory.com/98</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/11/11/MongoDB/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 junhee.ko. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">junhee.ko</h4>
        
            <div id="about-card-bio"><p>Always Learning</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Engineer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Incheon
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
