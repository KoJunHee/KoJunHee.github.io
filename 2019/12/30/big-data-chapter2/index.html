
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="junhee.ko">
    <title>[빅데이터를 지탱하는 기술] 2장_빅데이터 탐색 - junhee.ko</title>
    <meta name="author" content="junhee.ko">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"junhee.ko","sameAs":["https://github.com/kojunhee","https://facebook.com/kojunheee","https://www.linkedin.com/in/junheeko","mailto:junheee.ko@gmail.com"],"image":"profile.jpg"},"articleBody":"1. 크로스 집계크로스 집계\n\n크로스 테이블\n행과 열이 교차하는 부분에 숫자 데이터가 들어감\n\n트랜젝션 테이블\n행방향으로만 증가하고, 열방향으로는 데이터가 증가하지 않음\n\n크로스 집계\n트레젝션 테이블에서 크로스 테이블로 변환하는 과정. \n피봇 테이블을 이용해서 할 수 있다.\n\n\n룩업 테이블트랜젝션 테이블의 ‘상품 ID’ 를 사용해서 ‘상품명’ 과 ‘상품 카테고리’ 참고할 때 사용되는 것이, 룩업 테이블이다.\n상품 정보를 하나의 테이블로 정리해두면 나중에 속성을 추가하거나 변경하는 것도 간단하다.\n2. 열 지향 스토리지처리량과 지연 시간\n처리량 ( throughput )\n일정 시간에 처리할 수 있는 데이터의 양.\n배치 처리 등 대규모 데이터 처리에서 중요시.\n\n지연 ( latency )\n데이터 처리가 끝날 때 까지의 대기 시간.\n애드 혹 데이터 분석에서 중요시.\n\n\n데이터 처리의 지연데이터 처리의 응답이 빠르면, ‘지연이 적다’ 라고 한다. \n\n메모리\n모든 데이터를 메모리에 올리는 것이다.\n\nRDB\n만일, 한 레코드의 크기가 500 바이트라고 하면, 천만 레코드의 경우 5 GB 가 된다. \n이 정도면, MySQL 이나 PostgreSQL 같은 일반적인 RDB 가 데이터 마트로 적합하다. \nRDB는 원래 지연이 적고 많은 클라이언트가 접속해도 성능이 나빠지지 않으므로 많은 사용자가 사용하는 실제 운영 환경의 데이터 마트로 적합하다.\n하지만, RDB 는 메모리가 부족하면 급격히 성능이 저하된다.\n\n\n‘압축’, ‘분산’ 에 의해 지연 줄이기데이터를 가능한 작게 ‘압축’ 하고 여러 디스크에 ‘분산’ 함으로써 데이터 로드에 따른 지연을 줄일 수 있다. \n분산된 데이터를 읽기 위해서는 멀티 코어를 활용해 디스크 I/O 를 병렬 처리하는 것이 효과적이다. \n이런 아키텍쳐를 MPP (Massive Parallel Processing) 라고 한다. \n대량 데이터를 분석하기 위해 데이터베이스에 널리 사용되고 있다. \nex ) Amazon Redshift, Google BigQuery\n행 지향, 열 지향 데이터베이스\n행 지향 데이터베이스\n레코드 단위로 읽고 쓰기에 최적화.\n테이블의 각 행을 하나의 덩어리로 디스크에 저장.\n새 레코드 추가할 때마다 파일의 끝에 데이터를 쓸 뿐이여서 빠르게 추가 가능.\n데이터 검색을 고속화하기 위해 인덱스 사용.\n데이터 분석에서는 어떤 칼럼 사용될지 미리 알 수 없으므로, 인덱스를 작성해도 도움이 되지 않음.\nex ) Oracble, MySQL\n\n열 지향 데이터베이스\n칼럼 단위의 집계에 최적화.\n데이터를 미리 칼럼 단위로 정리해서 필요한 칼럼만을 로드하여 디스크 I/O 를 줄임.\n같은 칼럼에는 종종 유사한 데이터가 나열되어서 데이터 압축 효율도 우수.\nex ) Teradata, Amazon Redshift\n\n\nMPP 데이터베이스\n행 지향 데이터베이스\n하나의 쿼리는 하나의 스레드에서 실행.\n하나의 쿼리가 충분히 짧은 시간에 끝나는 것으로 가정하므로 하나의 쿼리를 분산 처리하는 상황은 가정하지 않음.\n\n열 지향 데이터베이스\n디스크에서 대량의 데이터를 읽기 때문에 한 번의 쿼리 실행 시간이 길다.\n멀티 코어를 활용해서 고속화 하는것이 좋음.\n\n\nMPP 에서는 하나의 쿼리를 다수의 태스크로 분해하고, 이를 가능한 한 병렬로 수행한다.\n예를 들어,\n\n1억 래코드로 이루어진 테이블의 합계를 계산하기 위해\n10만 레코드로 구분하여 1000 개의 테스크로 나눈다.\n각 테스크는 각각 독립적으로 10 만 레코드의 합계를 집계해서 \n마지막 모든 결과를 모아 총 합계를 계산한다.\n\nMPP 를 사용한 데이터 집계는 CPU 코어수에 비례해서 고속화된다.\n단, 디스크로부터의 로드가 병목 현상이 발생하지 않도록 데이터가 고르게 분산되어 있어야한다. \n3. 애드 혹 분석과 시각화 도구\nJupyter Notebook\nRedash\nSuperset\nKibana\n\n4. 데이터 마트의 기본 구조다차원 모델과 OLAP 큐브\nRDB\n표 형식으로 모델링된 데이터를 SQL 로 집계한다.\n\nOLAP\n다차원 모델의 데이터 구조를, MDX (Multidimensional Exrepssions) 등의 쿼리 언어로 집계한다.\n\n\n데이터 분석을 위해 만들어진 다차원의 데이터를 OLAP 큐브라고 한다. OLAP 큐브를 크로스 집계하는 구조가 OALP 이다.\n컴퓨터 성능이 높지 않을 때는, 크로스 집계의 모든 조합을 데이터 베이스 안에 캐쉬해두고, 쿼리가 실행되면 이미 집계된 결과를 반환하는 구조였다.\n최근에는 MPP 데이터베이스와 인 메모리 데이터베이스로, 사전에 계산해 둘 필요가 없다. MPP 데이터베이스에 다차원 모델의 개념이 없기 때문에, 이를 대신해 ‘비정규화 테이블’ 을 준비한다. 비정규화 테이블을 BI 도구에서 열어서 기존의 OLAP 과 동등한 시각화를 실현할 수 있다.\n트렌젝션, 마스터 테이블\n\n트랜젝션 테이블\n시간과 함께 생성되는 데이터들을 기록\n\n마스터 테이블\n트랜젝션에서 참고되는 각종 정보를 기록\n\n\n팩트, 디맨젼 테이블\n팩트 테이블\n트랜젝션 테이블 처럼, 사실이 기록된 것.\n집계의 기반이 되는 숫자 데이터 등.\n\n디멘젼 테이블\n마스터 테이블 처럼, 참고되는 마스터 데이터.\n데이터를 분류하기 위한 속성 값.\n\n\n스타 스키마\n데이터 마트를 만들때는, 팩트 테이블을 중심으로 여러 디멘젼 테이블을 결합하는 것이 좋다.\n스타 스키마를 사용하는 이유는,\n\n단순하고 이해하기 쉬워 데이터 분석이 쉽다.\n\n성능 상의 이유\n데이터 양이 증가하면 팩트 테이블은 디멘젼 테이블보다 훨씬 커져, 팩트 테이브이 메모리 용량을 초과한 시점에 디스크 I/O 가 발생하고 그 대기 시간으로 쿼리의 지연으로 이어진다. \n그래서, 팩트 테이블에는 id 와 같은 키만을 남겨두고 그 이외의 나머지는 디멘젼 테이블로 옮긴다.\n\n\n비정규화 테이블스타 스키마는 과거의 이야기이다. 성능 상의 문제는 열 지향 스토리지에 의해 해결된다.\nMPP 데이터베이스와 같은 열 지향 스토리지의 보급으로, 칼럼의 수가 아무리 늘어나도 성능에 영향이 없다. \n그래서, 처음부터 팩트 테이블에 모든 칼럼을 포함하고 쿼리의 실행 시에는 테이블 결합을 하지 않는 것이 간단하다. \n스타 스키마에 비정규화를 진행해 모든 테이블을 결합한 팩트 테이블을 비정규화 테이블이라고 한다.\n테이블 추상화\n비정규화 테이블을 준비했으면, 다차원 모델에 의해 추상화한다.\n다차원 모델은 칼럼을 디멘젼과 측정값으로 분류한다. \n\n디멘젼\n주로 날짜 및 문자열. \n크로스 집계의 행이나 열로 사용\n\n측정값\n주로 숫자값.\n\n\n\n빅데이터를 지탱하는 기술 &lt;니시다 케이스케&gt;\n","dateCreated":"2019-12-30T00:00:00+09:00","dateModified":"2019-12-30T16:41:21+09:00","datePublished":"2019-12-30T00:00:00+09:00","description":"","headline":"[빅데이터를 지탱하는 기술] 2장_빅데이터 탐색","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kojunhee.github.io/2019/12/30/big-data-chapter2/"},"publisher":{"@type":"Organization","name":"junhee.ko","sameAs":["https://github.com/kojunhee","https://facebook.com/kojunheee","https://www.linkedin.com/in/junheeko","mailto:junheee.ko@gmail.com"],"image":"profile.jpg","logo":{"@type":"ImageObject","url":"profile.jpg"}},"url":"https://kojunhee.github.io/2019/12/30/big-data-chapter2/"}</script>
    <meta name="description" content="1. 크로스 집계크로스 집계  크로스 테이블 행과 열이 교차하는 부분에 숫자 데이터가 들어감  트랜젝션 테이블 행방향으로만 증가하고, 열방향으로는 데이터가 증가하지 않음  크로스 집계 트레젝션 테이블에서 크로스 테이블로 변환하는 과정.  피봇 테이블을 이용해서 할 수 있다.   룩업 테이블트랜젝션 테이블의 ‘상품 ID’ 를 사용해서 ‘상품명’ 과 ‘상품 카">
<meta property="og:type" content="blog">
<meta property="og:title" content="[빅데이터를 지탱하는 기술] 2장_빅데이터 탐색">
<meta property="og:url" content="https://kojunhee.github.io/2019/12/30/big-data-chapter2/index.html">
<meta property="og:site_name" content="junhee.ko">
<meta property="og:description" content="1. 크로스 집계크로스 집계  크로스 테이블 행과 열이 교차하는 부분에 숫자 데이터가 들어감  트랜젝션 테이블 행방향으로만 증가하고, 열방향으로는 데이터가 증가하지 않음  크로스 집계 트레젝션 테이블에서 크로스 테이블로 변환하는 과정.  피봇 테이블을 이용해서 할 수 있다.   룩업 테이블트랜젝션 테이블의 ‘상품 ID’ 를 사용해서 ‘상품명’ 과 ‘상품 카">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://kojunhee.github.io/image/bigdata_cross_table.png">
<meta property="og:image" content="https://kojunhee.github.io/image/bigdata_rdb_table.png">
<meta property="og:image" content="https://kojunhee.github.io/image/bigdata_star_scheme.png">
<meta property="og:image" content="https://kojunhee.github.io/image/bigdata_dimension.png">
<meta property="og:updated_time" content="2019-12-30T07:41:21.611Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[빅데이터를 지탱하는 기술] 2장_빅데이터 탐색">
<meta name="twitter:description" content="1. 크로스 집계크로스 집계  크로스 테이블 행과 열이 교차하는 부분에 숫자 데이터가 들어감  트랜젝션 테이블 행방향으로만 증가하고, 열방향으로는 데이터가 증가하지 않음  크로스 집계 트레젝션 테이블에서 크로스 테이블로 변환하는 과정.  피봇 테이블을 이용해서 할 수 있다.   룩업 테이블트랜젝션 테이블의 ‘상품 ID’ 를 사용해서 ‘상품명’ 과 ‘상품 카">
<meta name="twitter:image" content="https://kojunhee.github.io/image/bigdata_cross_table.png">
    
    
        
    
    
        <meta property="og:image" content="https://kojunhee.github.io/assets/images/profile.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">junhee.ko</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">junhee.ko</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Always Learning</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/kojunhee" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/kojunheee" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/in/junheeko" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:junheee.ko@gmail.com" target="_blank" rel="noopener" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            [빅데이터를 지탱하는 기술] 2장_빅데이터 탐색
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-12-30T00:00:00+09:00">
	
		    Dec 30, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/big-data/">Big Data</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h2 id="1-크로스-집계"><a href="#1-크로스-집계" class="headerlink" title="1. 크로스 집계"></a>1. 크로스 집계</h2><h5 id="크로스-집계"><a href="#크로스-집계" class="headerlink" title="크로스 집계"></a>크로스 집계</h5><p><img src="/image/bigdata_cross_table.png" alt></p>
<ol>
<li><p>크로스 테이블</p>
<p>행과 열이 교차하는 부분에 숫자 데이터가 들어감</p>
</li>
<li><p>트랜젝션 테이블</p>
<p>행방향으로만 증가하고, 열방향으로는 데이터가 증가하지 않음</p>
</li>
<li><p>크로스 집계</p>
<p>트레젝션 테이블에서 크로스 테이블로 변환하는 과정. </p>
<p>피봇 테이블을 이용해서 할 수 있다.</p>
</li>
</ol>
<h5 id="룩업-테이블"><a href="#룩업-테이블" class="headerlink" title="룩업 테이블"></a>룩업 테이블</h5><p>트랜젝션 테이블의 ‘상품 ID’ 를 사용해서 ‘상품명’ 과 ‘상품 카테고리’ 참고할 때 사용되는 것이, 룩업 테이블이다.</p>
<p>상품 정보를 하나의 테이블로 정리해두면 나중에 속성을 추가하거나 변경하는 것도 간단하다.</p>
<h2 id="2-열-지향-스토리지"><a href="#2-열-지향-스토리지" class="headerlink" title="2. 열 지향 스토리지"></a>2. 열 지향 스토리지</h2><h5 id="처리량과-지연-시간"><a href="#처리량과-지연-시간" class="headerlink" title="처리량과 지연 시간"></a>처리량과 지연 시간</h5><ol>
<li><p>처리량 ( throughput )</p>
<p>일정 시간에 처리할 수 있는 데이터의 양.</p>
<p>배치 처리 등 대규모 데이터 처리에서 중요시.</p>
</li>
<li><p>지연 ( latency )</p>
<p>데이터 처리가 끝날 때 까지의 대기 시간.</p>
<p>애드 혹 데이터 분석에서 중요시.</p>
</li>
</ol>
<h5 id="데이터-처리의-지연"><a href="#데이터-처리의-지연" class="headerlink" title="데이터 처리의 지연"></a>데이터 처리의 지연</h5><p>데이터 처리의 응답이 빠르면, ‘지연이 적다’ 라고 한다. </p>
<ol>
<li><p>메모리</p>
<p>모든 데이터를 메모리에 올리는 것이다.</p>
</li>
<li><p>RDB</p>
<p>만일, 한 레코드의 크기가 500 바이트라고 하면, 천만 레코드의 경우 5 GB 가 된다. </p>
<p>이 정도면, MySQL 이나 PostgreSQL 같은 일반적인 RDB 가 데이터 마트로 적합하다. </p>
<p>RDB는 원래 지연이 적고 많은 클라이언트가 접속해도 성능이 나빠지지 않으므로 많은 사용자가 사용하는 실제 운영 환경의 데이터 마트로 적합하다.</p>
<p>하지만, RDB 는 메모리가 부족하면 급격히 성능이 저하된다.</p>
</li>
</ol>
<h5 id="‘압축’-‘분산’-에-의해-지연-줄이기"><a href="#‘압축’-‘분산’-에-의해-지연-줄이기" class="headerlink" title="‘압축’, ‘분산’ 에 의해 지연 줄이기"></a>‘압축’, ‘분산’ 에 의해 지연 줄이기</h5><p>데이터를 가능한 작게 ‘압축’ 하고 여러 디스크에 ‘분산’ 함으로써 데이터 로드에 따른 지연을 줄일 수 있다. </p>
<p>분산된 데이터를 읽기 위해서는 멀티 코어를 활용해 디스크 I/O 를 병렬 처리하는 것이 효과적이다. </p>
<p>이런 아키텍쳐를 MPP (Massive Parallel Processing) 라고 한다. </p>
<p>대량 데이터를 분석하기 위해 데이터베이스에 널리 사용되고 있다. </p>
<p>ex ) Amazon Redshift, Google BigQuery</p>
<h5 id="행-지향-열-지향-데이터베이스"><a href="#행-지향-열-지향-데이터베이스" class="headerlink" title="행 지향, 열 지향 데이터베이스"></a>행 지향, 열 지향 데이터베이스</h5><ol>
<li><p>행 지향 데이터베이스</p>
<p>레코드 단위로 읽고 쓰기에 최적화.</p>
<p>테이블의 각 행을 하나의 덩어리로 디스크에 저장.</p>
<p>새 레코드 추가할 때마다 파일의 끝에 데이터를 쓸 뿐이여서 빠르게 추가 가능.</p>
<p>데이터 검색을 고속화하기 위해 인덱스 사용.</p>
<p>데이터 분석에서는 어떤 칼럼 사용될지 미리 알 수 없으므로, 인덱스를 작성해도 도움이 되지 않음.</p>
<p>ex ) Oracble, MySQL</p>
</li>
<li><p>열 지향 데이터베이스</p>
<p>칼럼 단위의 집계에 최적화.</p>
<p>데이터를 미리 칼럼 단위로 정리해서 필요한 칼럼만을 로드하여 디스크 I/O 를 줄임.</p>
<p>같은 칼럼에는 종종 유사한 데이터가 나열되어서 데이터 압축 효율도 우수.</p>
<p>ex ) Teradata, Amazon Redshift</p>
</li>
</ol>
<h5 id="MPP-데이터베이스"><a href="#MPP-데이터베이스" class="headerlink" title="MPP 데이터베이스"></a>MPP 데이터베이스</h5><ol>
<li><p>행 지향 데이터베이스</p>
<p>하나의 쿼리는 하나의 스레드에서 실행.</p>
<p>하나의 쿼리가 충분히 짧은 시간에 끝나는 것으로 가정하므로 하나의 쿼리를 분산 처리하는 상황은 가정하지 않음.</p>
</li>
<li><p>열 지향 데이터베이스</p>
<p>디스크에서 대량의 데이터를 읽기 때문에 한 번의 쿼리 실행 시간이 길다.</p>
<p>멀티 코어를 활용해서 고속화 하는것이 좋음.</p>
</li>
</ol>
<p>MPP 에서는 하나의 쿼리를 다수의 태스크로 분해하고, 이를 가능한 한 병렬로 수행한다.</p>
<p>예를 들어,</p>
<ol>
<li>1억 래코드로 이루어진 테이블의 합계를 계산하기 위해</li>
<li>10만 레코드로 구분하여 1000 개의 테스크로 나눈다.</li>
<li>각 테스크는 각각 독립적으로 10 만 레코드의 합계를 집계해서 </li>
<li>마지막 모든 결과를 모아 총 합계를 계산한다.</li>
</ol>
<p>MPP 를 사용한 데이터 집계는 CPU 코어수에 비례해서 고속화된다.</p>
<p>단, 디스크로부터의 로드가 병목 현상이 발생하지 않도록 데이터가 고르게 분산되어 있어야한다. </p>
<h2 id="3-애드-혹-분석과-시각화-도구"><a href="#3-애드-혹-분석과-시각화-도구" class="headerlink" title="3. 애드 혹 분석과 시각화 도구"></a>3. 애드 혹 분석과 시각화 도구</h2><ol>
<li>Jupyter Notebook</li>
<li>Redash</li>
<li>Superset</li>
<li>Kibana</li>
</ol>
<h2 id="4-데이터-마트의-기본-구조"><a href="#4-데이터-마트의-기본-구조" class="headerlink" title="4. 데이터 마트의 기본 구조"></a>4. 데이터 마트의 기본 구조</h2><h5 id="다차원-모델과-OLAP-큐브"><a href="#다차원-모델과-OLAP-큐브" class="headerlink" title="다차원 모델과 OLAP 큐브"></a>다차원 모델과 OLAP 큐브</h5><ol>
<li><p>RDB</p>
<p>표 형식으로 모델링된 데이터를 SQL 로 집계한다.</p>
</li>
<li><p>OLAP</p>
<p>다차원 모델의 데이터 구조를, MDX (Multidimensional Exrepssions) 등의 쿼리 언어로 집계한다.</p>
</li>
</ol>
<p>데이터 분석을 위해 만들어진 다차원의 데이터를 OLAP 큐브라고 한다. OLAP 큐브를 크로스 집계하는 구조가 OALP 이다.</p>
<p>컴퓨터 성능이 높지 않을 때는, 크로스 집계의 모든 조합을 데이터 베이스 안에 캐쉬해두고, 쿼리가 실행되면 이미 집계된 결과를 반환하는 구조였다.</p>
<p>최근에는 MPP 데이터베이스와 인 메모리 데이터베이스로, 사전에 계산해 둘 필요가 없다. MPP 데이터베이스에 다차원 모델의 개념이 없기 때문에, 이를 대신해 ‘비정규화 테이블’ 을 준비한다. 비정규화 테이블을 BI 도구에서 열어서 기존의 OLAP 과 동등한 시각화를 실현할 수 있다.</p>
<h5 id="트렌젝션-마스터-테이블"><a href="#트렌젝션-마스터-테이블" class="headerlink" title="트렌젝션, 마스터 테이블"></a>트렌젝션, 마스터 테이블</h5><p><img src="/image/bigdata_rdb_table.png" alt></p>
<ol>
<li><p>트랜젝션 테이블</p>
<p>시간과 함께 생성되는 데이터들을 기록</p>
</li>
<li><p>마스터 테이블</p>
<p>트랜젝션에서 참고되는 각종 정보를 기록</p>
</li>
</ol>
<h5 id="팩트-디맨젼-테이블"><a href="#팩트-디맨젼-테이블" class="headerlink" title="팩트, 디맨젼 테이블"></a>팩트, 디맨젼 테이블</h5><ol>
<li><p>팩트 테이블</p>
<p>트랜젝션 테이블 처럼, 사실이 기록된 것.</p>
<p>집계의 기반이 되는 숫자 데이터 등.</p>
</li>
<li><p>디멘젼 테이블</p>
<p>마스터 테이블 처럼, 참고되는 마스터 데이터.</p>
<p>데이터를 분류하기 위한 속성 값.</p>
</li>
</ol>
<h5 id="스타-스키마"><a href="#스타-스키마" class="headerlink" title="스타 스키마"></a>스타 스키마</h5><p><img src="/image/bigdata_star_scheme.png" alt></p>
<p>데이터 마트를 만들때는, 팩트 테이블을 중심으로 여러 디멘젼 테이블을 결합하는 것이 좋다.</p>
<p>스타 스키마를 사용하는 이유는,</p>
<ol>
<li><p>단순하고 이해하기 쉬워 데이터 분석이 쉽다.</p>
</li>
<li><p>성능 상의 이유</p>
<p>데이터 양이 증가하면 팩트 테이블은 디멘젼 테이블보다 훨씬 커져, 팩트 테이브이 메모리 용량을 초과한 시점에 디스크 I/O 가 발생하고 그 대기 시간으로 쿼리의 지연으로 이어진다. </p>
<p>그래서, 팩트 테이블에는 id 와 같은 키만을 남겨두고 그 이외의 나머지는 디멘젼 테이블로 옮긴다.</p>
</li>
</ol>
<h5 id="비정규화-테이블"><a href="#비정규화-테이블" class="headerlink" title="비정규화 테이블"></a>비정규화 테이블</h5><p>스타 스키마는 과거의 이야기이다. 성능 상의 문제는 열 지향 스토리지에 의해 해결된다.</p>
<p>MPP 데이터베이스와 같은 열 지향 스토리지의 보급으로, 칼럼의 수가 아무리 늘어나도 성능에 영향이 없다. </p>
<p>그래서, 처음부터 팩트 테이블에 모든 칼럼을 포함하고 쿼리의 실행 시에는 테이블 결합을 하지 않는 것이 간단하다. </p>
<p>스타 스키마에 비정규화를 진행해 모든 테이블을 결합한 팩트 테이블을 비정규화 테이블이라고 한다.</p>
<h5 id="테이블-추상화"><a href="#테이블-추상화" class="headerlink" title="테이블 추상화"></a>테이블 추상화</h5><p><img src="/image/bigdata_dimension.png" alt></p>
<p>비정규화 테이블을 준비했으면, 다차원 모델에 의해 추상화한다.</p>
<p>다차원 모델은 칼럼을 디멘젼과 측정값으로 분류한다. </p>
<ol>
<li><p>디멘젼</p>
<p>주로 날짜 및 문자열. </p>
<p>크로스 집계의 행이나 열로 사용</p>
</li>
<li><p>측정값</p>
<p>주로 숫자값.</p>
</li>
</ol>
<hr>
<p>빅데이터를 지탱하는 기술 &lt;니시다 케이스케&gt;</p>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/12/30/big-data-chapter1/" data-tooltip="[빅데이터를 지탱하는 기술] 1장_빅데이터 기초 지식" aria-label="PREVIOUS: [빅데이터를 지탱하는 기술] 1장_빅데이터 기초 지식">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/12/30/big-data-chapter3/" data-tooltip="[빅데이터를 지탱하는 기술] 3장_빅데이터 분산처리" aria-label="NEXT: [빅데이터를 지탱하는 기술] 3장_빅데이터 분산처리">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kojunhee.github.io/2019/12/30/big-data-chapter2/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 junhee.ko. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/12/30/big-data-chapter1/" data-tooltip="[빅데이터를 지탱하는 기술] 1장_빅데이터 기초 지식" aria-label="PREVIOUS: [빅데이터를 지탱하는 기술] 1장_빅데이터 기초 지식">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/12/30/big-data-chapter3/" data-tooltip="[빅데이터를 지탱하는 기술] 3장_빅데이터 분산처리" aria-label="NEXT: [빅데이터를 지탱하는 기술] 3장_빅데이터 분산처리">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kojunhee.github.io/2019/12/30/big-data-chapter2/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="2">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kojunhee.github.io/2019/12/30/big-data-chapter2/">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">junhee.ko</h4>
        
            <div id="about-card-bio"><p>Always Learning</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Engineer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Incheon
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'https://kojunhee.github.io/2019/12/30/big-data-chapter2/';
                 
                    this.page.identifier = '2019/12/30/big-data-chapter2/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'junheeko';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



    </body>
</html>
