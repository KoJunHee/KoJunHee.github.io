<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Always Learning</title><meta property="og:type" content="blog"><meta property="og:title" content="Always Learning"><meta property="og:url" content="https://kojunhee.github.io/"><meta property="og:site_name" content="Always Learning"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://kojunhee.github.io/img/og_image.png"><meta property="article:author" content="junhee.ko"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://kojunhee.github.io"},"headline":"Always Learning","image":["https://kojunhee.github.io/img/og_image.png"],"author":{"@type":"Person","name":"junhee.ko"},"description":null}</script><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/default.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Always Learning" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-17T15:00:00.000Z" title="2019-11-17T15:00:00.000Z">2019-11-18</time><span class="level-item"><a class="link-muted" href="/categories/oop/">OOP</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/11/18/object-chapter4/">[오브젝트] 4장_설계 품질과 트레이드오프</a></h1><div class="content"><p>객체지향 설계란 올바른 객체에게 올바른 책임을 할당하며 낮은 결합도와 높은 응집도를 가진 구조를 만드는 것이다. 훌륭한 설계란 합리적인 비용안에서 변경을 수용할 수 있는 구조를 만드는 것이다.<br>결합도와 응집도를 합리적인 수준으로 유지할 수 있는 원칙이 있다. 객체의 행동에 초점을 맞추는 것이다.<br>이번 장에서는 책임이 아닌, 상태를 표현하는 데이터 중심의 설계를 보고 객체지향적으로 설계한 구조와 어떤 차이가 있는지 확인한다.<br>상속, 지연 바인딩도 중요하지만, 구현 측면에 치우쳐져 있기 때문에 객체지향 패러다임의 본질과는 거리가 멀다. </p>
<h2 id="01-데이터-중심의-영화-예매-시스템"><a href="#01-데이터-중심의-영화-예매-시스템" class="headerlink" title="01 데이터 중심의 영화 예매 시스템"></a>01 데이터 중심의 영화 예매 시스템</h2><p>상태 변경은 인터페이스의 변경을 초래하고 이 인터페이스에 의존하는 모든 객체에게 변경의 영향이 퍼진다. 그래서, 데이터에 초점을 맞춘 설계는 변경에 취약하다.<br>책임을 드러내는 안정적인 인터페이스 뒤로 책임을 수행하기 위해 필요한 상태를 캡슐화함으로써 구현 변경에 대한 파장이 외부로 퍼져나가는 것을 방지한다. 그래서 책임에 초점을 맞추면 안정적인 설계를 할 수 있다.</p>
<h5 id="데이터를-준비하자"><a href="#데이터를-준비하자" class="headerlink" title="데이터를 준비하자"></a>데이터를 준비하자</h5><p>데이터 중심의 설계란 객체 내부에 저장되는 데이터를 기반으로 시스템으 분할하는 방법이다.<br>99 Page<br>객체의 종류를 저장하는 인스턴스 변수 (movieType) 와 인스턴의 종류에 따라 배타적으로 상용될 인스턴스 변수 (discountAmount, discountPercent) 를 하나의 클래승 안에 포함시키는 방식은 데이터 중심 설계에서 흔히 보인다.<br>메세지를 수신한 객체는 메세드를 실행해 요청에 응답한다. Screening 이 Movie 에게 처리를 위임하는 이유는 요금을 계산하는데 필요한 기본 요금과 할인 정책을 가장 잘 알고 있는 객체가 Movie 이기 때문이다.<br>자율적인 객체란 자신의 상태를 직접 관리하고 스스로의 결정에 따라 행동하는 객체이다. 객체의 자율성을 보장하기 위해서는 필요한 정보와 정보에 기반한 행동을 같은 객체 안에 모아두어야 한다.<br>결과적으로 객체를 자율적으로 만드는 가장 기본적인 방법은 내부 구현을 캡슐화 하는 것이다.<br>자율적인 객체는 자신에게 할당된 책임을 수행하던 중에 필요한 정보를 알지 못하거나 외부의 도움이 필요한 경우 적절한 객체에게 메세지를 전송해 협력을 요청한다.</p></div><a class="article-more button is-small size-small" href="/2019/11/18/object-chapter4/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-17T15:00:00.000Z" title="2019-11-17T15:00:00.000Z">2019-11-18</time><span class="level-item"><a class="link-muted" href="/categories/oop/">OOP</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/11/18/object-chapter5/">[오브젝트] 5장_책임 할당하기</a></h1><div class="content"><p>데이터 중심 설계로 인한 문제를 해결하기 위한 가장 기본적인 방법은, 책임에 초점을 맞추는 것이다.<br>이번 장에서는 GRASP 패턴을 살펴본다.<br>결합도와 응집도를 합리적인 수준으로 유지할 수 있는 원칙이 있다. 객체의 행동에 초점을 맞추는 것이다.<br>이번 장에서는 책임이 아닌, 상태를 표현하는 데이터 중심의 설계를 보고 객체지향적으로 설계한 구조와 어떤 차이가 있는지 확인한다.<br>상속, 지연 바인딩도 중요하지만, 구현 측면에 치우쳐져 있기 때문에 객체지향 패러다임의 본질과는 거리가 멀다. </p>
<h2 id="01-책임-주도-설계를-향해"><a href="#01-책임-주도-설계를-향해" class="headerlink" title="01 책임 주도 설계를 향해"></a>01 책임 주도 설계를 향해</h2><p>두 가지 원칙이 있다.</p>
<ol>
<li>데이터보다 행동을 먼저 결정하라</li>
<li>협려이라는 문맥안에서 책임을 결정하라</li>
</ol>
<p>책임을 드러내는 안정적인 인터페이스 뒤로 책임을 수행하기 위해 필요한 상태를 캡슐화함으로써 구현 변경에 대한 파장이 외부로 퍼져나가는 것을 방지한다. 그래서 책임에 초점을 맞추면 안정적인 설계를 할 수 있다.</p></div><a class="article-more button is-small size-small" href="/2019/11/18/object-chapter5/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-11T15:00:00.000Z" title="2019-11-11T15:00:00.000Z">2019-11-12</time><span class="level-item"><a class="link-muted" href="/categories/oop/">OOP</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/11/12/object-chapter3/">[오브젝트] 3장_역할,책임,협력</a></h1><div class="content"><p>객체지향 설계의 핵심은 협력을 구성하기 위해 적절한 객체를 찾고 적절한 책임을 할당하는 과정에 있다.<br>상속, 지연 바인딩도 중요하지만, 구현 측면에 치우쳐져 있기 때문에 객체지향 패러다임의 본질과는 거리가 멀다. </p>
<h2 id="01-협력"><a href="#01-협력" class="headerlink" title="01 협력"></a>01 협력</h2><p>앞장의 영화 예매 시스템에서 중요한 것은, 다양한 객체들이 영화 예매라는 기능을 위해 메세지를 주고 받으면서 상호작용 한다는 점이다.<br>객체들이 애플리케이션의 기능을 구현하기 위해 수행하는 상호작용을 협력이라고 한다. 객체가 협력에 참여하기 위해 수행하는 로직은 책임이다. 객체들이 구행하는 책임들이 모여 객체가 수행하는 역할을 구성한다.</p>
<h5 id="협력"><a href="#협력" class="headerlink" title="협력"></a>협력</h5><p>두 객체 사이의 협력은 하나의 객체가 다른 객체에게 도움을 요청할 때 시작된다. 메세지 전송은 객체 간 협력을 위해 사용할 수 있는 유일한 수단이다.<br>메세지를 수신한 객체는 메세드를 실행해 요청에 응답한다. Screening 이 Movie 에게 처리를 위임하는 이유는 요금을 계산하는데 필요한 기본 요금과 할인 정책을 가장 잘 알고 있는 객체가 Movie 이기 때문이다.<br>자율적인 객체란 자신의 상태를 직접 관리하고 스스로의 결정에 따라 행동하는 객체이다. 객체의 자율성을 보장하기 위해서는 필요한 정보와 정보에 기반한 행동을 같은 객체 안에 모아두어야 한다.<br>결과적으로 객체를 자율적으로 만드는 가장 기본적인 방법은 내부 구현을 캡슐화 하는 것이다.<br>자율적인 객체는 자신에게 할당된 책임을 수행하던 중에 필요한 정보를 알지 못하거나 외부의 도움이 필요한 경우 적절한 객체에게 메세지를 전송해 협력을 요청한다.</p></div><a class="article-more button is-small size-small" href="/2019/11/12/object-chapter3/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-05T15:00:00.000Z" title="2019-11-05T15:00:00.000Z">2019-11-06</time><span class="level-item"><a class="link-muted" href="/categories/oop/">OOP</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/11/06/object-chapter2/">[오브젝트] 2장_객체지향 프로그래밍</a></h1><div class="content"><p>이번 장의 목표는 이 책의 다양한 주제들을 가볍게 살펴보는 것이다.</p>
<h2 id="01-영화-예매-시스템"><a href="#01-영화-예매-시스템" class="headerlink" title="01 영화 예매 시스템"></a>01 영화 예매 시스템</h2><h5 id="요구사항-살펴보기"><a href="#요구사항-살펴보기" class="headerlink" title="요구사항 살펴보기"></a>요구사항 살펴보기</h5><p>38 Page </p>
<h2 id="02-객체지향-프로그래밍을-향해"><a href="#02-객체지향-프로그래밍을-향해" class="headerlink" title="02 객체지향 프로그래밍을 향해"></a>02 객체지향 프로그래밍을 향해</h2></div><a class="article-more button is-small size-small" href="/2019/11/06/object-chapter2/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-03T15:00:00.000Z" title="2019-11-03T15:00:00.000Z">2019-11-04</time><span class="level-item"><a class="link-muted" href="/categories/oop/">OOP</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/11/04/object-chapter1/">[오브젝트] 1장_객체, 설계</a></h1><div class="content"><p>소프트웨어 설계와 유지보수에 중점을 두려먼 이론이 아닌, 실무에 초점을 맞추어야한다.<br>설계를 설명할 때 가장 유용한 도구는 이론으로 치장된 개념과 용어가 아니라, 코드다.</p>
<h2 id="01-티켓-판매-애플리케이션-구현하기"><a href="#01-티켓-판매-애플리케이션-구현하기" class="headerlink" title="01 티켓 판매 애플리케이션 구현하기"></a>01 티켓 판매 애플리케이션 구현하기</h2><p>Code : Page 9</p>
<h2 id="02-무엇이-문제인가"><a href="#02-무엇이-문제인가" class="headerlink" title="02 무엇이 문제인가"></a>02 무엇이 문제인가</h2><p>로머트 마틴에 따르면 모든 모듈 ( 크기와 상관 없이 클래스나 패키지, 라이브러리와 같이 프로그램을 구성하는 임의의 요소 ) 은 </p></div><a class="article-more button is-small size-small" href="/2019/11/04/object-chapter1/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-08-06T15:00:00.000Z" title="2019-08-06T15:00:00.000Z">2019-08-07</time><span class="level-item"><a class="link-muted" href="/categories/spark/">Spark</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/08/07/spark-sql/">[스파크2 프로그래밍] 5장_스파크SQL 과 데이터프레임,데이터셋</a></h1><div class="content"><p>RDD 의 장점은, </p>
<ul>
<li>분산환경에서 메모리 기반으로 빠르고 안정적으로 동작하는 프로그램을 만들 수 있다는 것과, </li>
<li>RDD 가 제공하는 풍부한 데이터 처리 연산입니다. ( &lt;-&gt; 맵과 리듀스로만 문제를 해결 ) </li>
</ul>
<p>RDD 의 단점은,</p>
<ul>
<li>스키마를 표현할 수 없다는 것입니다. </li>
</ul>
<p>스파크 SQL 은 RDD 의 이 단점을 보완할 수 있도록 또 다른 유형의 데이터 모델과 API를 제공하는 스파크 모듈입니다. 스파크 SQL 에서 데이터를 다루는 방법은 SQL을 사용하는 것과 데이터셋 API 를 사용하는 방법이 있습니다.<br>데이터셋은 스파크 1.6 버젼에서 처음 소개된 것으로 자바와 스칼라 언어에서만 사용할 수 있었고, 그 이전에는 데이터프레임이라는 클래스를 구현 언어와 상관없이 사용하고 있었습니다. <strong>스파크 2.0 부터 데이터프레임 클래스가 데이터셋 클래스로 통합</strong>되면서 Type Alias 라는 독특한 기능을 가진 스칼라 언어에서만 기존과 같은 데이터 프레임을 사용할 수 있고 해당 기능이 없는 자바에서는 데이터셋 클래스만을 사용할 수 있게 됐습니다.<br>스칼라의 데이터프레임은 “type DataFrame = Dataset[Row]” 와 같이 정의돼 있는데 바로 이 구문이 Type Alias 에 해당하는 부분으로, <strong>Dataset 의 타입 파라미터가 Row 인 경우를 DataFrame</strong> 이라는 이름으로도 사용하겠다는 의미입니다.</p></div><a class="article-more button is-small size-small" href="/2019/08/07/spark-sql/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-07-15T15:00:00.000Z" title="2019-07-15T15:00:00.000Z">2019-07-16</time><span class="level-item"><a class="link-muted" href="/categories/spark/">Spark</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/07/16/rdd/">[스파크2 프로그래밍] 2장_RDD</a></h1><div class="content"><h3 id="2-1-RDD"><a href="#2-1-RDD" class="headerlink" title="2.1 RDD"></a>2.1 RDD</h3><p>이번 장의 목표 : 데이터 모델로서의 추상적인 RDD 가 아닌, 프로그램 작성을 위한 API 관점에서 RDD 를 이해</p>
<h4 id="2-1-1-들어가기에-앞서"><a href="#2-1-1-들어가기에-앞서" class="headerlink" title="2.1.1 들어가기에 앞서"></a>2.1.1 들어가기에 앞서</h4><p>RDD 다루기 전에 알아야 할 것</p>
<ol>
<li><p>스파크 클러스터<br>클러스터 환경에서 동작하는 프로그램 작성할 때는 데이터가 여러 서버에 나눠져 병렬로 처리됩니다.</p>
</li>
<li><p>분산데이터로서의 RDD<br>RDD 는 회복력을 가진 분산 데이터 집합입니다.</p>
</li>
<li><p>불변성<br>한번 만들어진 RDD 는 어떤 경우에도 변경되지 않습니다.</p>
</li>
<li><p>파티션<br>RDD 데이터는 클러스터를 구성하는 여러 서버에 나누어서 저장됩니다. 스파크는 분할된 데이터를 파티션이라는 단위로 관리합니다.</p>
</li>
<li><p>HDFS</p>
</li>
<li><p>Job 과 Executor<br>스파크 프로그램을 실행하는 것을 스파크 잡을 실행한다고 합니다. 하나의 잡은 클러스터에서 병렬로 처리되고, 각 서버마다 익스큐터라는 프로세스가 생성됩니다. 각자 할당된 파티션을 처리합니다.</p>
</li>
<li><p>드라이버 프로그램<br>드라이버란, 스파크 컨텍스트를 생성하고 그 인스턴스를 포함하는 있는 프로그램입니다.</p>
</li>
<li><p>트랜스포메이션과 액선<br>트랜스포메이션은 RDD 의 형태를 변형하는 연산입니다. 액선은 어떤 동작을 수행해 그 결과로서 RDD 가 아닌 다른 타입의 결과를 변환하는 연산입니다.</p>
</li>
<li><p>지연 동작과 최적화<br>트랜스포메이션 연산은 RDD 를 사용하는 다른 액션 연산이 호출될때까지는 실제 트랜스포메이션을 수행하지 않습니다. 따라서, 실행 계획의 최적화가 가능합니다. <strong>사용자가 입력한 변환 연산들을 즉시 수행하지 않고 모아뒀다가 한 번에 실행함으로써 불필요한 네티워크 통신 비용을 줄일 수 있습니다.</strong></p>
</li>
<li><p>함수의 전달</p>
</li>
</ol></div><a class="article-more button is-small size-small" href="/2019/07/16/rdd/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-30T15:00:00.000Z" title="2019-06-30T15:00:00.000Z">2019-07-01</time><span class="level-item"><a class="link-muted" href="/categories/spark/">Spark</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/07/01/spark-cluster/">[스파크2 프로그래밍] 3장_클러스터 환경</a></h1><div class="content"><h3 id="3-1-클러스터-환경"><a href="#3-1-클러스터-환경" class="headerlink" title="3.1 클러스터 환경"></a>3.1 클러스터 환경</h3><p>이번 장의 목표 : 분산 처리를 위한 시스템 아키텍처와, 그와 관련된 다양한 설정 및 매개변수를 이해하는 것.<br>스파크에서는 클러스터 자원을 관리해주는 역할을 하는 컴포넌트 클래스를 클러스터 매니저라고 합니다. 2.3.0 버젼에서는 네 종류의 클러스터 매니저가 사용되고 있습니다.</p>
<h4 id="3-1-1-클러스터-모드와-컴포넌트"><a href="#3-1-1-클러스터-모드와-컴포넌트" class="headerlink" title="3.1.1 클러스터 모드와 컴포넌트"></a>3.1.1 클러스터 모드와 컴포넌트</h4><p>스파크 클러스터는 <strong>드라이버 / 클러스터 매니저 / 익스큐터 / 워커 노드</strong>의 조합.<br>클러스터란, 여러 대의 서버가 네트워크를 통해 연결되어 마치 하나의 서버인 것처럼 동작하는 방식을 의미합니다. 전체 서버의 자원과 동작을 세밀하고 효율적으로 제어할 수 있는 별도 모듈을 클러스터 매니저라고 부릅니다.<br>스파크에서는  추상화된 클러스터 모델을 제공함으로써 사용하는 클러스터의 종류에 상관없이 일관된 방법으로 프로그램을 작성하고 클러스터를 관리할 수 있게 지원하고 있습니다.<br>“스파크 애플리케이션을 실행했다” 라고 하는 말은, 드라이버 프로그램에 있는 메인 함수를 실행해 스파크컨텍스트를 생성하고, 이를 이용해 각 워커 노드에 익스큐터 프로세스를 구동시켜 작업을 수행했다라는 뜻입니다. 즉, 익스큐터 하나가 사용할 자원(CPU 나 메모리) 을 정한뒤, 작업 실행 요청이 발생할 때마다 필요한 수만큼의 익스큐터를 할당하는 방식으로 자원을 할당합니다.<br>사용가능한 스파크컨텍스트가 준비돼 있다는 것은 클러스터 메니저와의 연동을 포함해서, 스파크 애플리케이션이 동작하는 데 필요한 다수의 서비스가 준비돼 있다는 의미이며, 이렇게 생성된 스파크컨텍스트를 이용해 RDD 나 브로드캐스트 또는 어큐뮬레이터 변수를 생성하고 사용할수 있음을 의미하는 것입니다.<br>쇼핑몰 방문자의 방문 로그를 분석하는 작업을 한다고 가정하고 작업을 수행하는 절차를 보겠습니다.</p>
<ol>
<li>드라이버 프로그램이 포함된 애플리케이션 코드를 작성</li>
<li>코드를 빌드하고 jar 나 zip 파일 등으로 패키징</li>
<li>생선한 패키지 파일을 스파크에서 제공하는 spark-submit 셸을 이용해 클러스터에 배포하고 실행</li>
<li>스파크 애플리케이션의 드라이버 프로그램이 실행되면 스파크컨텍스트가 생성되면서 클러스터 매니저와 연동되어 각 클러스터 서버에 작업을 처리하기 위한 프로세스를 생성. 이때 작업에 필요한 서버를 워커노드라고 하며, 각 워커노드에 생성된 프로세스를 익스큐터.</li>
<li>익스큐터가 생성되면 드라이버 프로그램은 작성된 프로그램에 의해 트렌스포메이션과 액션을 수행. 트렌스포메이션 연산이 호출할 때는 실제 작업을 수행하지 않고 액션 여산이 호출될 때만 실제 작업을 수행하느데, 이 작업 단위를 Job. 즉, 잡은 액션 연산의 수만큼 생성.</li>
<li>생성된 잡은 실제로 수행될 때 스테이지라는 단계로 나누어 실행. 스테이지를 나누는 기준이 되는 것은 데이터 셔플 필요 여부. 즉, 각 서버에 있는 데이터를 네트워크를 통해 다른 서버로 재배치해야 하는지 여부. 셔플이 발생하면 네트워크를 통해 대량의 데이터를 정렬하고 전송하는 등의 부하가 발생해 전체 작업 성능에 좋지 않은 영향을 끼치기 때문. 따라서, 데이터를 이동하지 않는 상태에서 처리할 수 있는 연산을 최대한 같은 스테이지로 묶어 처리하면 셔플 발생을 최소화.</li>
<li>각 스테이지는 여러 개의 태스크로 나눠진 후 분산처리를 위해 여러 익스큐터에 할당되며, 이 태스크가 실제 익스큐터에 전달되는 작업의 단위. 이 때, 익스큐터는 두 가지 역할 수행. 하나는 할당받은 테스크를 처리. 다른 하나는 이미 처리된 데이터를 나중에 빠르게 재사용할 수 있게 메모리에 저장.</li>
</ol></div><a class="article-more button is-small size-small" href="/2019/07/01/spark-cluster/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-30T15:00:00.000Z" title="2019-06-30T15:00:00.000Z">2019-07-01</time><span class="level-item"><a class="link-muted" href="/categories/spark/">Spark</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/07/01/spark-config/">[스파크2 프로그래밍] 4장_스파크 설정</a></h1><div class="content"><ul>
<li>애플리캐이션 단위로 설정<ul>
<li>Spark Properties 사용</li>
</ul>
</li>
<li>각 서버 단위로 설정<ul>
<li>서버의 환경 변수를 이용해 등록</li>
</ul>
</li>
</ul>
<h3 id="4-1-스파크-프로퍼티"><a href="#4-1-스파크-프로퍼티" class="headerlink" title="4.1 스파크 프로퍼티"></a>4.1 스파크 프로퍼티</h3><p>스파크 프로퍼티는 개별 애플리캐이션 실행관 관련된 설정값을 정의하는 곳입니다. 스파크 컨텍스트를 생성할 때 사용했던 SparkConf 인스턴스나 자바 시스템 프로퍼티를 이용해 등록 가능합니다.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkCont</span>().setAppName(<span class="string">"myApp"</span>)</span><br><span class="line"><span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br></pre></td></tr></table></figure>

<p>SparkConf 클래스는 스파크 애플리캐이션 실행관 관련된 다양한 설정 정보를 키와 값 형태로 등록할수 있는 함수(set / get) 을 제공합니다. 애플리캐이션 이름과 같이 반드시 지정해야 하는 주요 속성에 대해서는 setMaster, setAppName 과 같은 별도의 메서드를 제공합니다.<br>SparkConf 를 이용하는 것의 문제점은 애플리캐이션의 비즈니스 로직과는 직접 관련이 없는 익스큐터의 메모리 설정이나 코어 수 할당관 관련된 부분이 항상 프로그램 코드에 포함돼 있어야 한다는 것입니다. 그래서, 프로그램이 실행되는 시점에 동적으로 필요한 설정값을 설정할수 있는 두 가지 방법이 있습니다.</p></div><a class="article-more button is-small size-small" href="/2019/07/01/spark-config/#more">Read More</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-22T15:00:00.000Z" title="2019-06-22T15:00:00.000Z">2019-06-23</time><span class="level-item"><a class="link-muted" href="/categories/spark/">Spark</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/23/spark-intro/">[스파크2 프로그래밍] 1장_스파크 소개</a></h1><div class="content"><h3 id="1-1-스파크"><a href="#1-1-스파크" class="headerlink" title="1.1 스파크"></a>1.1 스파크</h3><h4 id="1-1-2-빅데이터의-정의"><a href="#1-1-2-빅데이터의-정의" class="headerlink" title="1.1.2 빅데이터의 정의"></a>1.1.2 빅데이터의 정의</h4><p>“다앙햔 형태를 지닌 대량의 데이터가 빠른 속도로 쌓이고 있다면 이를 빅데이터라고 부를 수 있다”<br>빅데이터의 중요한 특성 세 가지는 크기, 속도, 댜양성입니다.</p>
<ul>
<li>크기 : 대량의 데이터를 처리</li>
<li>속도 : 데이터의 증가가 지속적이고 빠르기 때문에 이에 부합하는 빠른 데이터 처리 기술이 필요</li>
<li>다양성 : 빅데이터의 다양성</li>
</ul>
<h4 id="1-1-3-빅데이터-솔루션"><a href="#1-1-3-빅데이터-솔루션" class="headerlink" title="1.1.3 빅데이터 솔루션"></a>1.1.3 빅데이터 솔루션</h4></div><a class="article-more button is-small size-small" href="/2019/06/23/spark-intro/#more">Read More</a></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/9/">Previous</a></div><div class="pagination-next"><a href="/page/11/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/9/">9</a></li><li><a class="pagination-link is-current" href="/page/10/">10</a></li><li><a class="pagination-link" href="/page/11/">11</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/31/">31</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><p class="title is-size-4 is-block line-height-inherit">Junhee Ko</p><p class="is-size-6 is-block">Always Learning</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Incheon</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">304</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">15</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/junhee-ko" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/junhee-ko"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/kojunheee/"><i class="fab fa-facebook"></i></a></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-26T15:00:00.000Z">2020-12-27</time></p><p class="title is-6"><a class="link-muted" href="/2020/12/27/grpc-principle/">[gRPC 시작에서 운영까지] 4장_gRPC 동작 원리</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/grpc/">gRPC</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-25T15:00:00.000Z">2020-12-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/12/26/grpc-patterns/">[gRPC 시작에서 운영까지] 3장_gRPC 통신 패턴</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/grpc/">gRPC</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-19T15:00:00.000Z">2020-12-20</time></p><p class="title is-6"><a class="link-muted" href="/2020/12/20/getting-started-grpc/">[gRPC 시작에서 운영까지] 2장_gRPC 시작</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/grpc/">gRPC</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-18T15:00:00.000Z">2020-12-19</time></p><p class="title is-6"><a class="link-muted" href="/2020/12/19/intro-grpc/">[gRPC 시작에서 운영까지] 1장_gRPC 소개</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/grpc/">gRPC</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-14T15:00:00.000Z">2020-12-15</time></p><p class="title is-6"><a class="link-muted" href="/2020/12/15/ingress/">[도커/쿠버네티스] 8장_인그레스</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/container/">Container</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Always Learning" height="28"></a><p class="size-small"><span>&copy; 2020 junhee.ko</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://kojunhee.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>